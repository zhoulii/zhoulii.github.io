<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Flink 1.11 æ–°ç‰¹æ€§ï¼šApplication éƒ¨ç½²æ¨¡å¼</title>
    <url>/2020/10/11/flink/Flink%201.11%20%E6%96%B0%E7%89%B9%E6%80%A7%EF%BC%9AApplication%20%E9%83%A8%E7%BD%B2%E6%A8%A1%E5%BC%8F/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<p>Flink 1.11 æ–°å¢äº†ä¸€ç§æ–°çš„åº”ç”¨éƒ¨ç½²æ¨¡å¼ï¼šapplication modeï¼Œä¸‹é¢æˆ‘ä»¬æ¥äº†è§£ä¸‹è¿™ç§éƒ¨ç½²æ¨¡å¼è§£å†³äº†ä»€ä¹ˆé—®é¢˜ä»¥åŠæ˜¯å¦‚ä½•å®ç°çš„ã€‚</p>
<h2 id="01-å½“å‰çš„åº”ç”¨éƒ¨ç½²æ¨¡å¼"><a href="#01-å½“å‰çš„åº”ç”¨éƒ¨ç½²æ¨¡å¼" class="headerlink" title="01.å½“å‰çš„åº”ç”¨éƒ¨ç½²æ¨¡å¼"></a>01.å½“å‰çš„åº”ç”¨éƒ¨ç½²æ¨¡å¼</h2><p>åœ¨ 1.11 ç‰ˆæœ¬ä¹‹å‰ï¼ŒFlink æ”¯æŒä¸¤ç§éƒ¨ç½²æ¨¡å¼ï¼šsession å’Œ per-jobï¼Œå®ƒä»¬çš„åŒºåˆ«åœ¨äºé›†ç¾¤çš„ç”Ÿå‘½å‘¨æœŸå’Œåº”ç”¨çš„èµ„æºéš”ç¦»ç¨‹åº¦ä¸åŒã€‚</p>
<p><strong>session mode</strong></p>
<p>session æ¨¡å¼å‡å®šå·²ç»å­˜åœ¨äº†ä¸€ä¸ª Flink é›†ç¾¤ï¼Œæ‰€æœ‰çš„ä½œä¸šéƒ½æäº¤åˆ°è¿™ä¸ªé›†ç¾¤ä¸Šï¼Œä½œä¸šé—´å…±ç”¨å¹¶ç«äº‰è¿™ä¸ªé›†ç¾¤çš„èµ„æºã€‚åœ¨ session æ¨¡å¼ä¸‹ï¼Œç”¨æˆ·æ— éœ€ä¸ºæ¯ä¸ªä½œä¸šåˆ†é…é›†ç¾¤èµ„æºï¼Œä½†ä½œä¸šå…±ç”¨ jobmanager å’Œ taskmanagerï¼Œå¦‚æœä¸€ä¸ªä½œä¸šå¯¼è‡´ taskmanager å®•æœºï¼Œé‚£ä¹ˆè¿™ä¸ª taskmanager ä¸Šæ‰¿è½½çš„ä½œä¸šéƒ½ä¼šå¤±è´¥ã€‚è€Œå¤§è§„æ¨¡çš„ä½œä¸šå¤±è´¥æ„å‘³ç€å¤§è§„æ¨¡çš„ä½œä¸šæ¢å¤ï¼Œä½œä¸šæ¢å¤è¿‡ç¨‹éœ€è¦è®¿é—®æ–‡ä»¶ç³»ç»Ÿï¼Œè¿™å¯èƒ½å¯¼è‡´æ–‡ä»¶ç³»ç»Ÿçš„å‹åŠ›è¿‡å¤§ã€‚æ­¤å¤–ï¼Œjobmanager è´Ÿè´£è®°å½•è·Ÿè¸ªä½œä¸šçš„çŠ¶æ€ï¼Œå¯åŠ¨çš„ä½œä¸šè¶Šå¤šï¼Œjobmanager çš„è´Ÿè½½ä¹Ÿä¼šè¶Šå¤§ã€‚</p>
<p>é™¤äº†ä¸Šé¢æåˆ°çš„é—®é¢˜ï¼Œsession æ¨¡å¼è¿˜æœ‰ä¸€ä¸ªä¸æ˜“å¯Ÿè§‰çš„ç¼ºç‚¹ï¼Œé‚£å°±æ˜¯æŸ¥çœ‹ä½œä¸šæ—¥å¿—è¾ƒä¸ºä¸æ–¹ä¾¿ï¼Œç©¶å…¶åŸå› ï¼ŒåŒæ ·æ˜¯å…±ç”¨ taskmanager å¼•èµ·çš„ã€‚</p>
<p>è™½ç„¶é—®é¢˜è¾ƒå¤šï¼Œä½† session æ¨¡å¼è¿˜æ˜¯æœ‰å…¶é€‚ç”¨ç”¨åœºæ™¯çš„ã€‚å¾—ç›Šäºä¸€ä¸ªæ—¢å­˜é›†ç¾¤çš„ä¼˜åŠ¿ï¼Œsession æ¨¡å¼ä¸‹åº”ç”¨çš„å¯åŠ¨é€Ÿåº¦è¾ƒå¿«ï¼Œæ‰€ä»¥ Session æ¨¡å¼ä¸€èˆ¬ç”¨æ¥éƒ¨ç½²é‚£äº›å¯¹å»¶è¿Ÿéå¸¸æ•æ„Ÿä½†è¿è¡Œæ—¶é•¿è¾ƒçŸ­çš„ä½œä¸šã€‚</p>
<p><strong>per-job mode</strong></p>
<p>per-job æ¨¡å¼ä¸‹ï¼Œä¼šä½¿ç”¨é›†ç¾¤ç®¡ç†æ¡†æ¶ï¼ˆå¦‚ yarnã€kubernetesï¼‰ä¸ºæ¯ä¸ªä½œä¸šåˆ›å»ºä¸€ä¸ªç‹¬äº«çš„ Flink é›†ç¾¤ï¼Œå½“ä½œä¸šè¿è¡Œç»“æŸï¼Œé›†ç¾¤èµ„æºä¼šè¢«é‡Šæ”¾ã€‚æ˜¾ç„¶ï¼Œper-job æ¨¡å¼ä¸‹ä½œä¸šå¯åŠ¨çš„å»¶æ—¶ä¼šæ¯”è¾ƒå¤§ï¼Œä½†æ˜¯ç”±äºä½œä¸šèµ„æºå®Œå…¨éš”ç¦»ï¼Œä¸€ä¸ªä½œä¸šçš„å¤±è´¥ä¸ä¼šå½±å“å…¶ä»–ä½œä¸šçš„è¿è¡Œã€‚æ­¤å¤–ï¼Œper-job æ¨¡å¼ä¸‹ï¼Œä½œä¸šä¸ä¼šå…±äº« jobmanagerï¼Œä¹Ÿå°±ä¸ä¼šå‘ç”Ÿ session æ¨¡å¼ä¸­å› ä½œä¸šè¿‡å¤šå¯¼è‡´ jobmanager è´Ÿè½½å¤§çš„é—®é¢˜ã€‚</p>
<p>ç»“åˆä¸Šè¿°çš„ç‰¹ç‚¹ï¼Œper-job æ¨¡å¼é€šå¸¸ç”¨æ¥éƒ¨ç½²é•¿æ—¶è¿è¡Œä¸”å¯¹å¯åŠ¨å»¶è¿Ÿä¸æ•æ„Ÿçš„ä½œä¸šã€‚</p>
<h2 id="02-éƒ¨ç½²æ¨¡å¼å­˜åœ¨çš„é—®é¢˜"><a href="#02-éƒ¨ç½²æ¨¡å¼å­˜åœ¨çš„é—®é¢˜" class="headerlink" title="02.éƒ¨ç½²æ¨¡å¼å­˜åœ¨çš„é—®é¢˜"></a>02.éƒ¨ç½²æ¨¡å¼å­˜åœ¨çš„é—®é¢˜</h2><p>æ— è®ºæ˜¯æäº¤ session æ¨¡å¼è¿˜æ˜¯ per-job æ¨¡å¼çš„åº”ç”¨ï¼ŒFlink åº”ç”¨çš„ main æ–¹æ³•éƒ½æ˜¯åœ¨å®¢æˆ·ç«¯æ‰§è¡Œï¼Œä¸»è¦åŒ…å«å¦‚ä¸‹ä¸¤ä¸ªè¿‡ç¨‹ï¼š1ï¼‰å°†ä½œä¸šç¿»è¯‘æˆ JobGraphï¼›2ï¼‰å°† JobGraph åŠä¾èµ–ä¸Šä¼ åˆ°é›†ç¾¤ä¸­ã€‚å¦‚æœåº”ç”¨é€»è¾‘å¾ˆå¤æ‚ï¼Œæ­¥éª¤ 1 åˆ™ä¼šæ¶ˆè€—æ›´å¤šçš„ CPU åŠå†…å­˜ï¼Œå¦‚æœä¾èµ–è¾ƒå¤§ï¼Œæ­¥éª¤ 2 åˆ™ä¼šæ¶ˆè€—æ›´é«˜çš„å¸¦å®½ã€‚æ‰€ä»¥ï¼Œå¦‚æœå¤šä¸ªç”¨æˆ·ã€åœ¨åŒä¸€èŠ‚ç‚¹ï¼ˆä¸€èˆ¬æ¥è®²ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæ˜¯ä¼šæœ‰ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºåº”ç”¨æäº¤çš„ç»Ÿä¸€å…¥å£ï¼‰åŒæ—¶æäº¤ Flink åº”ç”¨ï¼Œè¿™ä¸ªæäº¤åº”ç”¨çš„èŠ‚ç‚¹å¾ˆå¯èƒ½æˆä¸ºç“¶é¢ˆã€‚ä¸‹å›¾ä¸­çš„ Deployer è¡¨ç¤ºåº”ç”¨æäº¤èŠ‚ç‚¹ï¼Œä¸‰è§’å½¢è¡¨ç¤ºæäº¤ä½œä¸šæ—¶å®¢æˆ·ç«¯éœ€è¦åšçš„å·¥ä½œã€‚</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/flink-application-1.png"></p>
<p>ä¸ºäº†å‡è½» Deployer çš„è´Ÿè½½å‹åŠ›ï¼ŒFlink ç¤¾åŒºåœ¨ per-job æ¨¡å¼çš„åŸºç¡€ä¸Šå®ç°äº† application modeã€‚</p>
<h2 id="03-Application-Mode-å®ç°åŸç†"><a href="#03-Application-Mode-å®ç°åŸç†" class="headerlink" title="03.Application Mode å®ç°åŸç†"></a>03.Application Mode å®ç°åŸç†</h2><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œapplication mode å°†å®¢æˆ·ç«¯çš„å·¥ä½œè´Ÿè½½è½¬ç§»åˆ°äº† jobmanager ä¸­ï¼ˆå³åœ¨ jobmanager ä¸­æ‰§è¡Œåº”ç”¨ main æ–¹æ³•ï¼‰ï¼Œå®¢æˆ·ç«¯ä»…è´Ÿè´£å‘é€ä½œä¸šæäº¤è¯·æ±‚ï¼Œå·¥ä½œè´Ÿè½½å¾ˆè½»ï¼Œå³ä½¿å¤§é‡åº”ç”¨åŒæ—¶æäº¤ï¼Œä¹Ÿä¸ä¼šç»™ Deployer é€ æˆå¤ªå¤§çš„å‹åŠ›ã€‚å¹¶ä¸”ï¼Œapplication mode ä¼šä¸ºæ¯ä¸€ä¸ª application å•ç‹¬åˆ›å»ºä¸€ä¸ª Flink é›†ç¾¤ï¼Œè¿™æ„å‘³ç€æ¯ä¸€ä¸ª application ç‹¬äº«ä¸€ä¸ª jobmanagerï¼Œä»è€Œ jobmanager ä¹Ÿä¸ä¼šå› ä¸ºæ‰¿æ‹…äº†éƒ¨åˆ†å®¢æˆ·ç«¯çš„å·¥ä½œè€Œé€ æˆè´Ÿè½½è¿‡å¤§ã€‚</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/flink-application-2.png"></p>
<p>å’Œ per-job mode ç›¸æ¯”ï¼Œapplication mode å…è®¸ä¸€ä¸ª application ä¸­åŒ…å«å¤šä¸ª jobï¼Œjob çš„æ‰§è¡Œé¡ºåºå’Œå¯åŠ¨ job çš„å‘½ä»¤æœ‰å…³ã€‚å½“ä½¿ç”¨é˜»å¡å¼çš„ execute å‘½ä»¤æ¥æäº¤ job æ—¶ï¼Œjob æ˜¯é¡ºåºæ‰§è¡Œçš„ï¼Œä¸‹ä¸€ä¸ª job ä¼šåœ¨ä¸Šä¸€ä¸ª job æ‰§è¡Œå®Œæˆä¹‹åæ‰ä¼šæäº¤ã€‚å½“ä½¿ç”¨éé˜»å¡å¼çš„ executeAsync å‘½ä»¤æ¥æäº¤ job æ—¶ï¼Œä¸‹ä¸€ä¸ª job åœ¨ä¸Šä¸€ä¸ª job æäº¤ä¹‹åä¼šç«‹å³æäº¤ï¼Œæ— éœ€ç­‰å¾…ä¸Šä¸ª job çš„å®Œæˆï¼Œä¹Ÿå°±æ˜¯è¯´å¤šä¸ª job å¯ä»¥åŒæ—¶è¿è¡Œã€‚</p>
<p><strong>éœ€è¦æ³¨æ„ä¸€ç‚¹</strong>ï¼šç”±äº application mode ä¸‹ï¼Œåº”ç”¨çš„ main æ–¹æ³•åœ¨ jobmanager ä¸­æ‰§è¡Œï¼Œæ‰€ä»¥è¦ä¿è¯ç”¨æˆ·ä»£ç è®¿é—®çš„å¤–éƒ¨èµ„æºåœ¨ jobmanager ä¸­æ˜¯å¯ä»¥è®¿é—®åˆ°çš„ã€‚ ä¾‹å¦‚ï¼Œå½“ç”¨æˆ·ä»£ç ä½¿ç”¨ registerCachedFile æ–¹æ³•æ¥æ³¨å†Œèµ„æºæ—¶ï¼Œè¿™ä¸ªèµ„æºè¦èƒ½è¢« jobmanager è®¿é—®ã€‚</p>
<h2 id="04-è¿›ä¸€æ­¥å‡å°‘ç½‘ç»œèµ„æº"><a href="#04-è¿›ä¸€æ­¥å‡å°‘ç½‘ç»œèµ„æº" class="headerlink" title="04.è¿›ä¸€æ­¥å‡å°‘ç½‘ç»œèµ„æº"></a>04.è¿›ä¸€æ­¥å‡å°‘ç½‘ç»œèµ„æº</h2><p>ä»¥ application mode on yarn ä¸ºä¾‹ï¼Œå½“æäº¤ä¸€ä¸ª application mode çš„åº”ç”¨æ—¶ï¼Œå®¢æˆ·ç«¯ä¸ä»…éœ€è¦ä¼ è¾“ç”¨æˆ· jar åˆ° jobmanagerï¼Œè¿˜éœ€è¦å°† Flink çš„äºŒè¿›åˆ¶åŒ…ä¸Šä¼ åˆ° Yarn ï¼Œç”¨äºå¯åŠ¨ Flink é›†ç¾¤ã€‚å¯¹å®¢æˆ·ç«¯æ¥è¯´ï¼Œè¿™ä¸¤ä¸ªä¼ è¾“å·¥ä½œä¹Ÿè¦å ç”¨ç›¸å½“çš„å¸¦å®½èµ„æºã€‚å¹¶ä¸”ï¼Œæ¯æ¬¡æäº¤åº”ç”¨éƒ½ä¸Šä¼ ä¸€ä»½ç›¸åŒçš„ Flink äºŒè¿›åˆ¶åŒ…åˆ° Yarn ä¸Šä¸ä»…æµªè´¹å¸¦å®½ï¼Œä¹Ÿæµªè´¹å­˜å‚¨ç©ºé—´ï¼ŒFlink 1.11 æ­£æ˜¯ä»ç”±æ­¤å‡ºå‘ï¼Œå¯¹ Flink on Yarn åšäº†å¦‚ä¸‹ä¸¤ç‚¹ä¼˜åŒ–ï¼š</p>
<ol>
<li>é€šè¿‡ä¸€ä¸ªè¿œç¨‹è·¯å¾„æ¥æŒ‡å®šå¯åŠ¨ Flink é›†ç¾¤æ‰€éœ€çš„äºŒè¿›åˆ¶åŒ…ï¼›</li>
<li>é€šè¿‡ä¸€ä¸ªè¿œç¨‹è·¯å¾„æ¥æŒ‡å®šåº”ç”¨ jarï¼›</li>
</ol>
<p>é€šè¿‡ç¬¬ä¸€ä¸ªä¼˜åŒ–ç‚¹ï¼Œæäº¤åº”ç”¨æ—¶å°±ä¸å¿…é‡å¤ä¸Šä¼  Flink ä¾èµ–äº† ï¼Œç›´æ¥ä»è¿œç¨‹è·¯å¾„æ‹‰å»å³å¯ã€‚å¹¶ä¸”ï¼Œç”±äº yarn çš„ç¼“å­˜æœºåˆ¶ï¼Œå¦‚æœä¹‹å‰ä¸€ä¸ª nodemanager ä¸Šå¯åŠ¨è¿‡ Flink è¿›ç¨‹ï¼Œå½“å†æ¬¡å¯åŠ¨æ—¶ï¼ŒFlink ä¾èµ–å¯ç›´æ¥ä»æœ¬åœ°ç¼“å­˜ä¸­è¯»å–ï¼Œè¿›ä¸€æ­¥åŠ å¿«äº†åº”ç”¨çš„æäº¤è¿‡ç¨‹ã€‚</p>
<p>éœ€è¦çŸ¥é“çš„æ˜¯ï¼Œä¸Šè¿°ä¸¤ç‚¹ä¼˜åŒ–å¹¶ä¸åªé’ˆå¯¹äº application mode on yarnï¼Œè€Œæ˜¯é€‚ç”¨äº Flink on Yarn ä¸­çš„æ‰€æœ‰åº”ç”¨æäº¤æ¨¡å¼ã€‚</p>
<h2 id="05-Application-Mode-on-Yarn-ç¤ºä¾‹"><a href="#05-Application-Mode-on-Yarn-ç¤ºä¾‹" class="headerlink" title="05.Application Mode on Yarn ç¤ºä¾‹"></a>05.Application Mode on Yarn ç¤ºä¾‹</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./bin/flink run-application -t yarn-application \</span><br><span class="line">-Djobmanager.memory.process.size=2048m \</span><br><span class="line">-Dtaskmanager.memory.process.size=4096m \</span><br><span class="line">-Dyarn.provided.lib.dirs=&quot;hdfs://myhdfs/remote-flink-dist-dir&quot; \</span><br><span class="line">hdfs://myhdfs/jars/MyApplication.jar</span><br></pre></td></tr></table></figure>

<h2 id="06-Application-Mode-on-k8s-ç¤ºä¾‹"><a href="#06-Application-Mode-on-k8s-ç¤ºä¾‹" class="headerlink" title="06.Application Mode on k8s ç¤ºä¾‹"></a>06.Application Mode on k8s ç¤ºä¾‹</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./bin/flink run-application -p 8 -t kubernetes-application \</span><br><span class="line">-Dkubernetes.cluster-id=&lt;ClusterId&gt; \</span><br><span class="line">-Dtaskmanager.memory.process.size=4096m \</span><br><span class="line">-Dkubernetes.taskmanager.cpu=2 \</span><br><span class="line">-Dtaskmanager.numberOfTaskSlots=4 \</span><br><span class="line">-Dkubernetes.container.image=&lt;CustomImageName&gt; \</span><br><span class="line">local:///opt/flink/usrlib/my-flink-job.jar</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„</strong>ï¼šåœ¨ Flink 1.11 ä¸­ï¼Œå½“ä½¿ç”¨ application mode on k8s æ—¶ï¼Œåªèƒ½é€šè¿‡ local åè®®æ¥æŒ‡å®šåº”ç”¨ jar åŒ…ï¼Œè¿™æ„å‘³ç€å¿…é¡»å°†åº”ç”¨ jar åŒ…æ‰“åˆ° Flink é•œåƒä¸­ã€‚</p>
<h2 id="07-å‚è€ƒèµ„æ–™"><a href="#07-å‚è€ƒèµ„æ–™" class="headerlink" title="07.å‚è€ƒèµ„æ–™"></a>07.å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://flink.apache.org/news/2020/07/14/application-mode.html">Application Deployment in Flink: Current State and the new Application Mode</a></li>
<li><a href="https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/deployment/yarn_setup.html#run-an-application-in-application-mode">Run an application in Application Mode</a></li>
<li><a href="https://ci.apache.org/projects/flink/flink-docs-release-1.11/ops/deployment/native_kubernetes.html#flink-kubernetes-application">Flink Kubernetes Application</a></li>
<li><a href="https://www.jianshu.com/p/90d9f1f24937">Flink on YARNçš„ç¬¬ä¸‰ç§éƒ¨ç½²æ¨¡å¼ï¼šApplication Mode</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/160800648">æ¢ç©¶ flink1.11 Application æ¨¡å¼</a></li>
</ul>
]]></content>
      <categories>
        <category>flink</category>
      </categories>
      <tags>
        <tag>flink</tag>
      </tags>
  </entry>
  <entry>
    <title>Flink 1.11.0 ç»´è¡¨ join æ¡ä»¶ä¸­åŒ…å« UDF æ—¶æ‰§è¡Œå‡ºé”™</title>
    <url>/2020/07/12/flink/Flink%201.11.0%20%E7%BB%B4%E8%A1%A8%20join%20%E6%9D%A1%E4%BB%B6%E4%B8%AD%E5%8C%85%E5%90%AB%20UDF%20%E6%97%B6%E6%89%A7%E8%A1%8C%E5%87%BA%E9%94%99/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-èƒŒæ™¯"><a href="#01-èƒŒæ™¯" class="headerlink" title="01.èƒŒæ™¯"></a>01.èƒŒæ™¯</h2><p>å½“ flink 1.11.0 æ‰§è¡Œå¦‚ä¸‹ sql æ—¶æŠ¥é”™ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> t1.id, t1.product, t2.price <span class="keyword">from</span> table1 <span class="keyword">as</span> t1</span><br><span class="line"><span class="keyword">join</span> table2 <span class="keyword">for</span> <span class="built_in">system_time</span> <span class="keyword">as</span> <span class="keyword">of</span> t1.proctime <span class="keyword">as</span> t2</span><br><span class="line"><span class="keyword">on</span> t1.id <span class="operator">=</span> t2.id <span class="keyword">where</span> <span class="built_in">current_date</span> <span class="operator">=</span> t2.sell_date</span><br></pre></td></tr></table></figure>

<h2 id="02-æ’æŸ¥"><a href="#02-æ’æŸ¥" class="headerlink" title="02.æ’æŸ¥"></a>02.æ’æŸ¥</h2><p>å‡ºé”™ä½ç½®ä½äº <code>CommonLookupJoin#extractConstantField</code>ï¼ŒåŸå› æ˜¯ RexCall ç±»å‹åŒ¹é…ä¸ä¸Šï¼Œå¯ä»¥åœ¨è¯¥æ–¹æ³•çš„ match è¯­å¥ä¸­å¢åŠ  <code>case _ =&gt; return</code> æ¥è§£å†³è¯¥é—®é¢˜ã€‚</p>
<h2 id="03-è¡¥å……"><a href="#03-è¡¥å……" class="headerlink" title="03.è¡¥å……"></a>03.è¡¥å……</h2><p><a href="https://issues.apache.org/jira/browse/FLINK-18212">FLINK-18212</a> å·²ç»æå‡ºå¹¶è§£å†³äº†è¯¥é—®é¢˜</p>
]]></content>
      <categories>
        <category>flink</category>
      </categories>
      <tags>
        <tag>flink</tag>
      </tags>
  </entry>
  <entry>
    <title>Flink 1.11.0 è¿æ¥ postgre çš„é—®é¢˜</title>
    <url>/2020/10/27/flink/Flink%201.11.0%20%E8%BF%9E%E6%8E%A5%20postgre%20%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-é—®é¢˜æè¿°"><a href="#01-é—®é¢˜æè¿°" class="headerlink" title="01.é—®é¢˜æè¿°"></a>01.é—®é¢˜æè¿°</h2><p>pg ä¸­æœ‰ä¸€å¼  pg_sink è¡¨ï¼Œç»“æ„å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>å­—æ®µ</th>
<th>ç±»å‹</th>
</tr>
</thead>
<tbody><tr>
<td>Name</td>
<td>VARCHAR</td>
</tr>
<tr>
<td>address</td>
<td>VARCHAR</td>
</tr>
<tr>
<td>work</td>
<td>VARCHAR</td>
</tr>
</tbody></table>
<p>ä½¿ç”¨ Flink 1.11.0 æ‰§è¡Œå¦‚ä¸‹ SQLï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pg_sink (</span><br><span class="line">	Name <span class="type">VARCHAR</span>,</span><br><span class="line">	address <span class="type">VARCHAR</span>,</span><br><span class="line">	work <span class="type">VARCHAR</span></span><br><span class="line">) <span class="keyword">with</span> (</span><br><span class="line">    <span class="string">&#x27;connector&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;jdbc&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;url&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;jdbc:postgresql://***:***/***&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;table-name&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;pg_sink&#x27;</span>,</span><br><span class="line">	...</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> kafka_source(</span><br><span class="line">    Name <span class="type">VARCHAR</span>,</span><br><span class="line">    address <span class="type">VARCHAR</span>,</span><br><span class="line">    work <span class="type">VARCHAR</span></span><br><span class="line">) <span class="keyword">with</span> (</span><br><span class="line">    <span class="string">&#x27;connector.type&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;kafka&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;format.type&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;json&#x27;</span>,</span><br><span class="line">	...</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> pg_sink </span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> kafka_source;</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿° SQL ä»»åŠ¡è¿è¡Œå¤±è´¥ï¼Œé”™è¯¯ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Caused by: org.postgresql.util.PSQLException: ERROR: column &quot;Name&quot; of relation &quot;pg_sink&quot; does not exist</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h2 id="02-åŸå› åˆ†æ"><a href="#02-åŸå› åˆ†æ" class="headerlink" title="02.åŸå› åˆ†æ"></a>02.åŸå› åˆ†æ</h2><p>å‚è€ƒã€Š<a href="https://www.cnblogs.com/kaituorensheng/p/5445696.html">PostgreSQL å¯¹å­—æ®µå¤§å°å†™æ•æ„Ÿ</a>ã€‹ï¼Œã€Š<a href="https://blog.csdn.net/LittleGlassHeart/article/details/102566867">PostgreSQL ä¸­çš„å•å¼•å·ä¸åŒå¼•å·</a>ã€‹</p>
<h2 id="03-å¦‚ä½•è§£å†³"><a href="#03-å¦‚ä½•è§£å†³" class="headerlink" title="03.å¦‚ä½•è§£å†³"></a>03.å¦‚ä½•è§£å†³</h2><p><code>org.apache.flink.connector.jdbc.dialect.JdbcDialect#quoteIdentifier</code> æ–¹æ³•ä¼šå¯¹ SQL ä¸­çš„å­—æ®µåŠ ä¸ŠåŒå¼•å·ï¼Œè€Œ <code>org.apache.flink.connector.jdbc.dialect.PostgresDialect#quoteIdentifier</code> æ–¹æ³•åˆ™ä¸ä¼šå¯¹å­—æ®µåšå‡ºå¤„ç†ã€‚æ‰€ä»¥ï¼Œåªéœ€åˆ é™¤ <code>PostgresDialect#quoteIdentifier</code> æ–¹æ³•ï¼Œè®© <code>JdbcDialect#quoteIdentifier</code> æ–¹æ³•ç”Ÿæ•ˆå³å¯è§£å†³ä¸Šè¿°é—®é¢˜ã€‚</p>
<h2 id="04-è¡¥å……è¯´æ˜"><a href="#04-è¡¥å……è¯´æ˜" class="headerlink" title="04.è¡¥å……è¯´æ˜"></a>04.è¡¥å……è¯´æ˜</h2><p>è¿™ç§å¤„ç†æ–¹å¼ä¼šå¼•èµ·å…¶ä»–é—®é¢˜ï¼Œä¸¾ä¾‹è§£é‡Šä¸‹ï¼š</p>
<ul>
<li>schemax.tablexï¼š Schema åä¸º schemaxï¼Œè¡¨åä¸º tablex </li>
<li>â€œschemax.tablexâ€ï¼šè¡¨åä¸º schemax.tablex</li>
</ul>
<p>æ‰€ä»¥ï¼Œå¦‚æœç»™æ ‡è¯†ç¬¦ç›´æ¥åŠ ä¸ŠåŒå¼•å·ï¼Œå°±æ²¡æ³•åŒºåˆ† PG çš„ Schema äº†ã€‚å…³äºè¯¥é—®é¢˜çš„æ›´å¤šè®¨è®ºå¯å‚è§ <a href="https://issues.apache.org/jira/browse/FLINK-19829">FLINK-19829</a>ã€<a href="https://issues.apache.org/jira/browse/FLINK-18640">FLINK-18640</a>ã€‚</p>
]]></content>
      <categories>
        <category>flink</category>
      </categories>
      <tags>
        <tag>flink</tag>
      </tags>
  </entry>
  <entry>
    <title>Flink 1.11 æ–°ç‰¹æ€§ï¼šApplication éƒ¨ç½²æ¨¡å¼</title>
    <url>/2020/05/11/flink/Flink%20SQL%20%E4%B8%AD%E6%97%B6%E9%97%B4%E6%88%B3%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-å¼‚å¸¸æ¡ˆä¾‹"><a href="#01-å¼‚å¸¸æ¡ˆä¾‹" class="headerlink" title="01.å¼‚å¸¸æ¡ˆä¾‹"></a>01.å¼‚å¸¸æ¡ˆä¾‹</h2><p>å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="type">StreamExecutionEnvironment</span> <span class="variable">env</span> <span class="operator">=</span> StreamExecutionEnvironment.getExecutionEnvironment();</span><br><span class="line"><span class="type">EnvironmentSettings</span> <span class="variable">bsSettings</span> <span class="operator">=</span> EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build();</span><br><span class="line"><span class="type">StreamTableEnvironment</span> <span class="variable">bsTableEnv</span> <span class="operator">=</span> StreamTableEnvironment.create(env, bsSettings);</span><br><span class="line">bsTableEnv.executeSql(<span class="string">&quot;create table pt (tfield timestamp) with ( &#x27;connector&#x27; = &#x27;print&#x27;)&quot;</span>);</span><br><span class="line">bsTableEnv.executeSql(<span class="string">&quot;insert into pt values (1611884521000)&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä¸Šè¿°ä»£ç æ—¶ä¼šå‘ç”Ÿå¦‚ä¸‹å¼‚å¸¸ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Exception in thread &quot;main&quot; org.apache.flink.table.api.ValidationException: Column types of query result and sink for registered table &#x27;default_catalog.default_database.pt&#x27; do not match.</span><br><span class="line">Cause: Incompatible types for sink column &#x27;tfield&#x27; at position 0.</span><br><span class="line"></span><br><span class="line">Query schema: [EXPR$0: BIGINT NOT NULL]</span><br><span class="line">Sink schema:  [tfield: TIMESTAMP(6)]</span><br><span class="line">......</span><br></pre></td></tr></table></figure>

<p>å¼‚å¸¸ä¿¡æ¯æç¤ºçš„å¾ˆæ˜ç¡®ï¼Œé—®é¢˜åŸå› æ˜¯å­—æ®µç±»å‹ä¸åŒ¹é…ã€‚</p>
<h2 id="02-åŸå› è¯´æ˜"><a href="#02-åŸå› è¯´æ˜" class="headerlink" title="02.åŸå› è¯´æ˜"></a>02.åŸå› è¯´æ˜</h2><p>ä¸Šè¿°æ¡ˆä¾‹ä¹‹æ‰€ä»¥ä¼šå‘ç”Ÿå­—æ®µç±»å‹ä¸åŒ¹é…ï¼ŒåŸå› åœ¨äº Flink ä¸­å¯¹ Timestamp çš„å®šä¹‰ã€‚ä¸ä¸€èˆ¬çš„è®¤çŸ¥ä¸åŒï¼ŒFlink ä¸­çš„ Timestamp ä¸æ˜¯ä¸€ä¸ª 13 ä½çš„é•¿æ•´å½¢æ•°å­—ï¼Œè€Œæ˜¯ä¸€ä¸ª <strong>2021-01-29T09:42:01</strong> æ ·å¼çš„æ—¥æœŸã€‚æ‰€ä»¥åœ¨ä½¿ç”¨ Flink SQL æ—¶ï¼Œç›´æ¥å°†é•¿æ•´å½¢çš„å­—æ®µç±»å‹å®šä¹‰ä¸º Timestamp ä¼šå‘ç”Ÿå¼‚å¸¸ã€‚</p>
<h2 id="03-æ­£ç¡®æ¡ˆä¾‹"><a href="#03-æ­£ç¡®æ¡ˆä¾‹" class="headerlink" title="03.æ­£ç¡®æ¡ˆä¾‹"></a>03.æ­£ç¡®æ¡ˆä¾‹</h2><p>åœ¨ Flink ä¸­ï¼Œå¦‚æœæƒ³æŠŠ 13 ä½çš„é•¿æ•´å½¢æ•°å­—å½“åšæ—¶é—´æˆ³æ¥ç”¨çš„è¯ï¼Œéœ€è¦å…ˆå°†å…¶è½¬æ¢ä¸º Flink ä¸­çš„æ—¶é—´æˆ³ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="type">StreamExecutionEnvironment</span> <span class="variable">env</span> <span class="operator">=</span> StreamExecutionEnvironment.getExecutionEnvironment();</span><br><span class="line"><span class="type">EnvironmentSettings</span> <span class="variable">bsSettings</span> <span class="operator">=</span> EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build();</span><br><span class="line"><span class="type">StreamTableEnvironment</span> <span class="variable">bsTableEnv</span> <span class="operator">=</span> StreamTableEnvironment.create(env, bsSettings);</span><br><span class="line"></span><br><span class="line">bsTableEnv.executeSql(<span class="string">&quot;create table pt (tfield timestamp) with ( &#x27;connector&#x27; = &#x27;print&#x27;)&quot;</span>);</span><br><span class="line">bsTableEnv.executeSql(<span class="string">&quot;insert into pt values (TO_TIMESTAMP(FROM_UNIXTIME(1611884521000 / 1000, &#x27;yyyy-MM-dd HH:mm:ss&#x27;)))&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>è€Œå¦‚æœéœ€è¦åœ¨ DDL ä¸­å®Œæˆä¸Šè¿°æ“ä½œï¼Œå¯ä»¥å…ˆå°†åŸå§‹ 13 ä½æ•°å­—å­—æ®µå®šä¹‰ä¸º BIGINTï¼Œç„¶åä½¿ç”¨è®¡ç®—åˆ—å°†å…¶è½¬æ¢ä¸º Timestampï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t1 (</span><br><span class="line">	long_ts_field <span class="type">BIGINT</span>,</span><br><span class="line">    ts_field <span class="keyword">as</span> TO_TIMESTAMP(FROM_UNIXTIME(long_ts_field <span class="operator">/</span> <span class="number">1000</span>, <span class="string">&#x27;yyyy-MM-dd HH:mm:ss&#x27;</span>)),</span><br><span class="line">    ...</span><br><span class="line">) <span class="keyword">with</span> (</span><br><span class="line">	...</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h2 id="04-äº†è§£æ›´å¤š"><a href="#04-äº†è§£æ›´å¤š" class="headerlink" title="04.äº†è§£æ›´å¤š"></a>04.äº†è§£æ›´å¤š</h2><p>å¦‚æœæƒ³äº†è§£æ›´å¤šä¸ Flink æ—¶é—´æˆ³æœ‰å…³çš„çŸ¥è¯†ï¼Œå¯å‚è€ƒå¦‚ä¸‹é“¾æ¥ï¼š<a href="https://blog.csdn.net/zhangdongan1991/article/details/105796613">ã€ŠFlink SQLä¸­Timestampä½¿ç”¨çš„å‘ã€‹</a>ã€<a href="https://nightlies.apache.org/flink/flink-docs-release-1.11/dev/table/types.html#date-and-time">ã€ŠFlink ä¸­ Date å’Œ Time ç±»å‹ä»‹ç»ã€‹</a>ï¼›å¦‚æœæƒ³äº†è§£ Flink å†…ç½®çš„æ—¶é—´è½¬æ¢å‡½æ•°ï¼Œå¯å‚è€ƒå¦‚ä¸‹é“¾æ¥ï¼š<a href="https://nightlies.apache.org/flink/flink-docs-release-1.11/dev/table/functions/systemFunctions.html#temporal-functions">ã€ŠFlink Temporal Functionsã€‹</a>ï¼›</p>
]]></content>
      <categories>
        <category>flink</category>
      </categories>
      <tags>
        <tag>flink</tag>
      </tags>
  </entry>
  <entry>
    <title>Flink SQL å¦‚ä½•å®ç°ä¸€è¡Œè½¬å¤šè¡Œ</title>
    <url>/2020/04/12/flink/Flink%20SQL%20%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E4%B8%80%E8%A1%8C%E8%BD%AC%E5%A4%9A%E8%A1%8C/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-é—®é¢˜æè¿°"><a href="#01-é—®é¢˜æè¿°" class="headerlink" title="01.é—®é¢˜æè¿°"></a>01.é—®é¢˜æè¿°</h2><p>ç”¨æˆ·çš„æ•°æ®è®°å½•ä¸­åŒ…å«å¤šä¸ªå­—æ®µï¼Œå¹¶ä¸”æŸä¸ªå­—æ®µçš„å†…å®¹æ˜¯ä¸€ä¸ªç»“æ„å¤æ‚çš„ <code>json</code>ï¼Œç°åœ¨è¦æå– <code>json</code> ä¸­çš„æ•°æ®ï¼Œä¸å…¶ä»–å­—æ®µç»„æˆä¸€æ¡æˆ–å¤šæ¡è®°å½•è¾“å‡ºã€‚</p>
<h2 id="02-å¦‚ä½•è§£å†³"><a href="#02-å¦‚ä½•è§£å†³" class="headerlink" title="02.å¦‚ä½•è§£å†³"></a>02.å¦‚ä½•è§£å†³</h2><p>Flink ä¸­çš„ UDTF å¯ä»¥å®ç°ä¸€è¡Œæ•°æ®åˆ°å¤šè¡Œæ•°æ®çš„è½¬æ¢ï¼Œä¸‹é¢ä»¥ã€Š<a href="https://baijiahao.baidu.com/s?id=1651693041743099274&wfr=spider&for=pc">Flink SQL ä¸­TableFunctionä½¿ç”¨åˆ†æ</a>ã€‹ä¸­çš„ç¤ºä¾‹æ¥æ¼”ç¤ºä¸‹å¦‚ä½•è‡ªå®šä¹‰ UDTFã€‚å‡è®¾è¾“å…¥æ•°æ®æ ¼å¼å¦‚ä¸‹ï¼š</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/flink-udtf-1.png"></p>
<p>è¦æ±‚é€šè¿‡ flink sql è¾“å‡ºå¦‚ä¸‹æ ¼å¼æ•°æ®ï¼š</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/flink-udtf-2.png"></p>
<p>æ­¤æ—¶ UDTF çš„å®ç°ä¸ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyUDTF</span> <span class="keyword">extends</span> <span class="title class_">TableFunction</span>&lt;Row&gt; &#123;</span><br><span class="line">    <span class="meta">@FunctionHint(output = @DataTypeHint(&quot;Row&lt;type String, value String&gt;&quot;))</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eval</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">JSONArray</span> <span class="variable">jsonArray</span> <span class="operator">=</span> JSONArray.parseArray(s);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; jsonArray.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">final</span> <span class="type">JSONObject</span> <span class="variable">jsonObject</span> <span class="operator">=</span> jsonArray.getJSONObject(i);</span><br><span class="line">            <span class="keyword">final</span> <span class="type">String</span> <span class="variable">type</span> <span class="operator">=</span> jsonObject.getString(<span class="string">&quot;type&quot;</span>);</span><br><span class="line">            <span class="keyword">final</span> <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> jsonObject.getString(<span class="string">&quot;value&quot;</span>);</span><br><span class="line">            collect(Row.of(type, value));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢ç»™å‡ºäº†è¿™ä¸ª UDTF çš„æµ‹è¯•ç”¨ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">StreamExecutionEnvironment</span> <span class="variable">env</span> <span class="operator">=</span> StreamExecutionEnvironment.getExecutionEnvironment();</span><br><span class="line"></span><br><span class="line">    <span class="type">EnvironmentSettings</span> <span class="variable">settings</span> <span class="operator">=</span> EnvironmentSettings</span><br><span class="line">            .newInstance()</span><br><span class="line">            .inStreamingMode()</span><br><span class="line">            .useBlinkPlanner()</span><br><span class="line">            .build();</span><br><span class="line"></span><br><span class="line">    <span class="type">StreamTableEnvironment</span> <span class="variable">tEnv</span> <span class="operator">=</span> StreamTableEnvironment.create(env, settings);</span><br><span class="line"></span><br><span class="line">    List&lt;Row&gt; sourceData = Collections.singletonList(Row.of(</span><br><span class="line">            <span class="string">&quot;dev01&quot;</span>,</span><br><span class="line">            <span class="string">&quot;1574944573000&quot;</span>,</span><br><span class="line">            <span class="string">&quot;[&#123;\&quot;type\&quot;:\&quot;temperature\&quot;,\&quot;value\&quot;:\&quot;10\&quot;&#125;,&quot;</span> +</span><br><span class="line">                    <span class="string">&quot;&#123;\&quot;type\&quot;:\&quot;battery\&quot;,\&quot;value\&quot;:\&quot;1\&quot;&#125;]&quot;</span>));</span><br><span class="line"></span><br><span class="line">    DataStreamSource&lt;Row&gt; rowDataStreamSource = env.fromCollection(sourceData);</span><br><span class="line">    <span class="type">Table</span> <span class="variable">table</span> <span class="operator">=</span> tEnv.fromDataStream(rowDataStreamSource, $(<span class="string">&quot;devid&quot;</span>), $(<span class="string">&quot;time&quot;</span>), $(<span class="string">&quot;data&quot;</span>));</span><br><span class="line">    tEnv.createTemporaryView(<span class="string">&quot;source&quot;</span>, table);</span><br><span class="line">    tEnv.createTemporarySystemFunction(<span class="string">&quot;my_udtf&quot;</span>, MyUDTF.class);</span><br><span class="line"></span><br><span class="line">    <span class="type">TableResult</span> <span class="variable">tableResult</span> <span class="operator">=</span> tEnv.executeSql(<span class="string">&quot;select `devid`, `time`, `type`, `value` &quot;</span> +</span><br><span class="line">            <span class="string">&quot;from source, lateral table(my_udtf(data)) as t(`type`,`value`)&quot;</span>);</span><br><span class="line">    tableResult.print();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>flink</category>
      </categories>
      <tags>
        <tag>flink</tag>
      </tags>
  </entry>
  <entry>
    <title>Flink ä½¿ç”¨ FTP ä½œä¸º Checkpoint æ–‡ä»¶ç³»ç»Ÿ</title>
    <url>/2020/06/29/flink/Flink%20%E4%BD%BF%E7%94%A8%20FTP%20%E4%BD%9C%E4%B8%BA%20Checkpoint%20%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-èƒŒæ™¯è¯´æ˜"><a href="#01-èƒŒæ™¯è¯´æ˜" class="headerlink" title="01.èƒŒæ™¯è¯´æ˜"></a>01.èƒŒæ™¯è¯´æ˜</h2><p><code>Flink Job</code> åœ¨è¿è¡Œå¤±è´¥æ—¶ï¼Œå¯ä»¥ä»ä¸Šä¸€ä¸ª <code>checkpoint</code> è¿›è¡Œæ¢å¤ï¼Œä¸è¿‡è¿™æœ‰ä¸€ä¸ªå‰æï¼Œå°±æ˜¯ <code>checkpoint</code> æ•°æ®å¯¹æ‰€æœ‰çš„ <code>Task</code> æ¥è¯´éƒ½æ˜¯å¯ä»¥è®¿é—®çš„ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬ä¼šå°† <code>checkpoint</code> ç›®å½•è®¾ç½®ä¸º <code>HDFS</code>ï¼Œä½†åœ¨ä¸€äº›è½»é‡çº§çš„ç”Ÿäº§åœºæ™¯ä¸­æ˜¯æ²¡æœ‰éƒ¨ç½² <code>HDFS</code> çš„ï¼Œæ‰€ä»¥è€ƒè™‘ä½¿ç”¨ <code>FTP</code> æ¥ä¿å­˜ <code>checkpoint</code> æ•°æ®ã€‚</p>
<h2 id="02-å®ç°æ€è·¯"><a href="#02-å®ç°æ€è·¯" class="headerlink" title="02.å®ç°æ€è·¯"></a>02.å®ç°æ€è·¯</h2><p><code>Flink</code> å¯ä»¥ä½¿ç”¨ <code>HDFS</code> ä½œä¸º <code>checkpoint</code> ç›®å½•çš„åŸå› æ˜¯ <code>Flink</code> æ”¯æŒ <code>HDFS</code> æ–‡ä»¶ç³»ç»Ÿï¼Œæ‰€ä»¥å¦‚æœ <code>Flink</code> å¯ä»¥æ”¯æŒ <code>FTP</code> æ–‡ä»¶ç³»ç»Ÿï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç”¨ <code>FTP</code> æ¥å­˜å‚¨ <code>checkpoint</code> æ•°æ®ã€‚æŸ¥çœ‹ <code>hadoop</code> çš„ <code>hadoop-common</code> æ¨¡å—ï¼Œå¯ä»¥å‘ç° <code>FTP</code> å¯¹åº”çš„æ–‡ä»¶ç³»ç»Ÿå®ç°æ˜¯ <code>FTPFileSystem</code>ï¼Œè€Œ <code>Flink</code> æ–‡ä»¶ç³»ç»Ÿåˆæ˜¯å…¼å®¹ <code>Hadoop</code> æ–‡ä»¶ç³»ç»Ÿçš„ï¼Œæ‰€ä»¥åªè¦å¼•å…¥ <code>hadoop-common</code> æ¨¡å—ä¾¿å¯ä»¥è®© <code>Flink</code> æ”¯æŒ <code>FTP</code>ï¼Œä¸è¿‡ï¼Œä¸ºé˜²æ­¢ç±»å†²çªï¼Œæœ€å¥½å¼•å…¥ <code>Flink</code> æä¾›çš„ <code>flink-shaded-hadoop</code>ã€‚</p>
<h2 id="03-å®ç°æ­¥éª¤"><a href="#03-å®ç°æ­¥éª¤" class="headerlink" title="03.å®ç°æ­¥éª¤"></a>03.å®ç°æ­¥éª¤</h2><ul>
<li>å°† <code>flink-shaded-hadoop-2-uber-xxx.jar</code> æ”¾åˆ° <code>Flink</code> çš„ <code>lib</code> è·¯å¾„ä¸‹ï¼ˆå¿…é¡»æ”¾åˆ° <code>lib</code> è·¯å¾„ä¸‹ï¼Œæ‰“åœ¨ä½œä¸š <code>Jar</code> ä¸­åŠ è½½ä¸åˆ°ï¼‰ï¼›</li>
<li>é‡å¯ <code>Flink Standalone</code> é›†ç¾¤;</li>
<li>ä½œä¸šä»£ç ä¸­å°† checkpoint ç›®å½•è®¾ç½®ä¸º ftpï¼Œè®¾ç½®æ–¹å¼å¦‚ä¸‹ï¼š<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">env.setStateBackend(<span class="keyword">new</span>Â <span class="title class_">RocksDBStateBackend</span>(<span class="string">&quot;ftp://user:password@ip:port/path&quot;</span>).asInstanceOf[StateBackend])</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="04-é—®é¢˜åˆ†æ"><a href="#04-é—®é¢˜åˆ†æ" class="headerlink" title="04.é—®é¢˜åˆ†æ"></a>04.é—®é¢˜åˆ†æ</h2><p>æäº¤ä½œä¸šåˆ°é›†ç¾¤ï¼Œå¯ä»¥å‘ç° <code>Job</code> æ˜¯æ­£å¸¸è¿è¡Œçš„ï¼Œä¸è¿‡æŸ¥çœ‹ <code>JobManager</code> çš„æ—¥å¿—å¯ä»¥å‘ç°ï¼Œcheckpoint å‡ºé”™äº†ï¼Œé”™è¯¯ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/ftp-checkpoint-error.png"></p>
<p>è¿™é‡Œç»™å‡ºçš„é”™è¯¯åŸå› æ˜¯æ— æ³•åˆ›å»º <code>checkpoint</code> ç›®å½•ï¼Œè€Œæ­¤æ—¶ <code>FTP</code> æœåŠ¡æ˜¯æ­£å¸¸çš„ï¼Œæ‰‹åŠ¨åˆ›å»ºç›®å½•ã€ä¸Šä¼ æ–‡ä»¶éƒ½æ²¡é—®é¢˜ï¼Œæ‰€ä»¥å¯ä»¥æ’é™¤ <code>FTP</code> æœ¬èº«çš„é—®é¢˜ã€‚ç»è¿‡ä»£ç è°ƒè¯•å‘ç°ï¼Œé—®é¢˜æ˜¯ç”±è·¯å¾„å¼•èµ·çš„ï¼Œå› ä¸ºä½¿ç”¨ <code>FTPFileSystem</code> åˆ›å»ºç›®å½•æ—¶ï¼Œè·¯å¾„å¿…é¡»æ˜¯ <code>/A/B/C</code> è¿™æ ·çš„å½¢å¼ï¼Œåƒ <code>ftp://user:password@ip:port/path</code> è¿™æ ·çš„è·¯å¾„æ˜¯ä¸è¢« <code>FTPFileSystem</code> æ”¯æŒçš„ã€‚</p>
<h2 id="05-è‡ªå®šä¹‰-FTPFileSystem"><a href="#05-è‡ªå®šä¹‰-FTPFileSystem" class="headerlink" title="05.è‡ªå®šä¹‰ FTPFileSystem"></a>05.è‡ªå®šä¹‰ FTPFileSystem</h2><p>è‡ªå®šä¹‰<code>FTPFileSystem</code> æ¥æ”¯æŒ <code>ftp://user:password@ip:port/path</code>  æ ¼å¼çš„è·¯å¾„ï¼Œå®ç°æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p><strong>1.åˆ›å»ºä¸€ä¸ª Maven é¡¹ç›®ï¼Œpom å†™æ³•å¦‚ä¸‹ï¼š</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä¾èµ– --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-shaded-hadoop-2-uber<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.5-10.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ‰“åŒ…æ’ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-shade-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">goal</span>&gt;</span>shade<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">artifactSet</span>&gt;</span></span><br><span class="line">							<span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line">								<span class="tag">&lt;<span class="name">exclude</span>&gt;</span>com.google.code.findbugs:jsr305<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">								<span class="tag">&lt;<span class="name">exclude</span>&gt;</span>org.slf4j:*<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">								<span class="tag">&lt;<span class="name">exclude</span>&gt;</span>log4j:*<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">							<span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;/<span class="name">artifactSet</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">filters</span>&gt;</span></span><br><span class="line">							<span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">							<span class="comment">&lt;!-- Do not copy the signatures in the META-INF folder.</span></span><br><span class="line"><span class="comment">							Otherwise, this might cause SecurityExceptions when using the JAR. --&gt;</span></span><br><span class="line">							<span class="tag">&lt;<span class="name">artifact</span>&gt;</span>*:*<span class="tag">&lt;/<span class="name">artifact</span>&gt;</span></span><br><span class="line">							<span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line">								<span class="tag">&lt;<span class="name">exclude</span>&gt;</span>META-INF/*.SF<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">								<span class="tag">&lt;<span class="name">exclude</span>&gt;</span>META-INF/*.DSA<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">								<span class="tag">&lt;<span class="name">exclude</span>&gt;</span>META-INF/*.RSA<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">							<span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line">							<span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;/<span class="name">filters</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>2.å¤åˆ¶ <code>FTPFileSystem</code> åˆ°é¡¹ç›®ä¸­ï¼Œå¹¶å°†å…¶é‡å‘½åä¸º <code>HFTPFileSystem</code></strong></p>
<p><strong>3.ä¿®æ”¹ <code>HFTPFileSystem</code> ä¸­çš„ <code>makeabsolute</code> æ–¹æ³•ï¼Œä¿®æ”¹åçš„æ–¹æ³•å¦‚ä¸‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> Path <span class="title function_">makeAbsolute</span><span class="params">(Path workDir, Path path)</span> &#123;</span><br><span class="line">	Path absolute;</span><br><span class="line">	<span class="keyword">if</span>(<span class="string">&quot;hftp&quot;</span>.equals(path.toUri().getScheme()))&#123;</span><br><span class="line">		<span class="keyword">final</span> <span class="type">String</span> <span class="variable">pathStr</span> <span class="operator">=</span> path.toUri().getPath().substring(<span class="number">1</span>);</span><br><span class="line">		absolute = <span class="keyword">new</span> <span class="title class_">Path</span>(workDir, pathStr);</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (path.isAbsolute()) &#123;</span><br><span class="line">			<span class="keyword">return</span> path;</span><br><span class="line">		&#125;</span><br><span class="line">		absolute = <span class="keyword">new</span> <span class="title class_">Path</span>(workDir, path);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> absolute;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>4.ä¿®æ”¹ <code>HFTPFileSystem</code> ä¸­çš„ <code>getSchema</code> æ–¹æ³•ï¼Œä¿®æ”¹åçš„æ–¹æ³•å¦‚ä¸‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span>Â StringÂ <span class="title function_">getScheme</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="keyword">return</span>Â <span class="string">&quot;hftp&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>5.åœ¨ <code>resources/META-INF/services</code> ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªåä¸º <code>org.apache.hadoop.fs.FileSystem</code> çš„æ–‡ä»¶ï¼Œå†…å®¹ä¸º <code>HFTPFileSystem</code> çš„å…¨è·¯å¾„å</strong></p>
<p><strong>6.å°†é¡¹ç›®æ‰“æˆ <code>jar</code> åŒ…</strong></p>
<h2 id="06-è‡ªå®šä¹‰-FTPFileSystem-çš„ä½¿ç”¨"><a href="#06-è‡ªå®šä¹‰-FTPFileSystem-çš„ä½¿ç”¨" class="headerlink" title="06.è‡ªå®šä¹‰ FTPFileSystem çš„ä½¿ç”¨"></a>06.è‡ªå®šä¹‰ FTPFileSystem çš„ä½¿ç”¨</h2><ul>
<li>å°†å¼€å‘å¥½çš„é¡¹ç›® <code>jar</code> åŒ…æ”¾åˆ° <code>Flink</code> çš„ <code>lib</code> è·¯å¾„ä¸‹ï¼ˆå¿…é¡»æ”¾åˆ° <code>lib</code> è·¯å¾„ä¸‹ï¼Œæ‰“åœ¨ä½œä¸š <code>jar</code> ä¸­åŠ è½½ä¸åˆ°ï¼‰ï¼›</li>
<li>é‡å¯ <code>Flink Standalone</code> é›†ç¾¤ï¼›</li>
<li>ä½œä¸šä»£ç ä¸­å°† <code>checkpoint</code> ç›®å½•è®¾ç½®ä¸º <code>ftp</code>ï¼Œåè®®å¤´ä½¿ç”¨ <code>hftp</code>ï¼Œè®¾ç½®æ–¹å¼å¦‚ä¸‹ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">env.setStateBackend(<span class="keyword">new</span>Â <span class="title class_">RocksDBStateBackend</span>(<span class="string">&quot;hftp://user:password@ip:port/path&quot;</span>).asInstanceOf[StateBackend])</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ï¼Œæäº¤ä½œä¸šåˆ°é›†ç¾¤ï¼Œå¯ä»¥å‘ç° <code>Job</code> æ˜¯æ­£å¸¸è¿è¡Œçš„ï¼Œ<code>checkpoint</code> æ•°æ®ä¹Ÿé¡ºåˆ©è½åœ°åˆ°æ‰€é…ç½®çš„ <code>FTP</code> ç›®å½•ã€‚</p>
<h2 id="07-å‚è€ƒèµ„æ–™"><a href="#07-å‚è€ƒèµ„æ–™" class="headerlink" title="07.å‚è€ƒèµ„æ–™"></a>07.å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://blog.csdn.net/weixin_41917987/article/details/90294765">Flinkçš„standaloneè¿è¡Œæ¨¡å¼ä¹‹Stateå­˜å‚¨â€”-ä¸ä½¿ç”¨HDFS</a></li>
</ul>
]]></content>
      <categories>
        <category>flink</category>
      </categories>
      <tags>
        <tag>flink</tag>
      </tags>
  </entry>
  <entry>
    <title>Flink ä½¿ç”¨ FTP ä½œä¸º Checkpoint æ–‡ä»¶ç³»ç»Ÿå­˜åœ¨çš„é—®é¢˜</title>
    <url>/2020/07/05/flink/Flink%20%E4%BD%BF%E7%94%A8%20FTP%20%E4%BD%9C%E4%B8%BA%20Checkpoint%20%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-èƒŒæ™¯è¯´æ˜"><a href="#01-èƒŒæ™¯è¯´æ˜" class="headerlink" title="01.èƒŒæ™¯è¯´æ˜"></a>01.èƒŒæ™¯è¯´æ˜</h2><a href="/2020/06/29/flink/Flink%20%E4%BD%BF%E7%94%A8%20FTP%20%E4%BD%9C%E4%B8%BA%20Checkpoint%20%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/" title="Flink ä½¿ç”¨ FTP ä½œä¸º Checkpoint æ–‡ä»¶ç³»ç»Ÿ">Flink ä½¿ç”¨ FTP ä½œä¸º Checkpoint æ–‡ä»¶ç³»ç»Ÿ</a> ä»‹ç»äº†å¦‚ä½•è®© Flink Checkpoint åç«¯æ”¯æŒ FTPï¼Œå¹¶å®ç°äº†æ­¤é¡¹åŠŸèƒ½ã€‚é¡¹ç›®ä¸Šçº¿åï¼ŒFTP ä½œä¸º Flink Checkpoint çŠ¶æ€åç«¯å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œä½†é¡¹ç›®è¿è¡Œä¸€æ®µæ—¶é—´åï¼Œå¶å°”åœ¨åš Checkpoint æ—¶ä¼šå‡ºç°ç«¯å£è¢«å ç”¨å¼‚å¸¸ï¼Œä»è€Œå‡ºç° Checkpoint å¤±è´¥ï¼Œä½œä¸šé‡å¯çš„é—®é¢˜ã€‚

<h2 id="02-é—®é¢˜æ’æŸ¥"><a href="#02-é—®é¢˜æ’æŸ¥" class="headerlink" title="02.é—®é¢˜æ’æŸ¥"></a>02.é—®é¢˜æ’æŸ¥</h2><p>é¦–å…ˆçœ‹ä¸‹å¼‚å¸¸å‘ç”Ÿçš„ä½ç½®ï¼š</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/flink-ftp-checkpoint-failed.png"></p>
<p>ä¸‹é¢æ˜¯æˆ‘çš„æ’æŸ¥æ€è·¯ï¼š</p>
<ul>
<li>æ£€æŸ¥æœºå™¨çš„ç«¯å£ï¼Œå‘ç°å¤§é‡ç«¯å£å¤„äº time_wait çŠ¶æ€ï¼Œæ¨æµ‹çŸ­é“¾æ¥å»ºç«‹å¤ªå¤šï¼Œæœºå™¨ç«¯å£è¢«å ç”¨å®Œï¼›</li>
<li>æ’æŸ¥ä»£ç ï¼Œ<code>_serverSocketFactory_.createServerSocket</code> ç»‘å®šçš„ç«¯å£æ˜¯ 0ï¼Œæ„æ€æ˜¯ç”±æ“ä½œç³»ç»Ÿåˆ†é…å¯ç”¨ç«¯å£ï¼Œæ— ç«¯å£å¯åˆ†é…ä¹Ÿä¼šæŠ›å‡ºç«¯å£è¢«å ç”¨å¼‚å¸¸ï¼Œè¿›ä¸€æ­¥éªŒè¯ä¸Šé¢çŒœæµ‹ï¼›</li>
</ul>
<p>åˆ†æå‡ºæœºå™¨ç«¯å£è¢«å ç”¨å®Œï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ‰¾å‡º FTPClient ä¸­ä¸ºä»€ä¹ˆä¼šæœ‰å¤§é‡ç«¯å£æ²¡è¢«é‡Šæ”¾çš„é—®é¢˜äº†ã€‚è¿˜æ˜¯å›åˆ° <code>_openDataConnection_</code> æ–¹æ³•ï¼Œåœ¨ FTPClient ä¸ FTP è¿›è¡Œæ•°æ®äº¤äº’æ—¶ï¼Œæ¯ä¸ªæ•°æ®äº¤äº’æ“ä½œéƒ½éœ€è¦è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªä¸æœåŠ¡ç«¯è¿›è¡Œæ•°æ®ä¼ è¾“çš„ Socketï¼ŒçŒœæƒ³å¦‚æœè¿™äº› Socket æ²¡è¢«å…³é—­ï¼Œé‚£ä¹ˆå°±ä¼šä¸æ–­æœ‰ç«¯å£è¢«å ç”¨ã€‚è€Œè·Ÿè¸ªä»£ç å¯ä»¥å‘ç°ï¼ŒFTPClient åœ¨ç”¨å®Œè¿™äº› Socket åï¼Œéƒ½åŠæ—¶è°ƒç”¨äº†å…¶ close æ–¹æ³•å»å…³é—­è¿æ¥ï¼Œæ‰€ä»¥ä¸Šé¢çš„çŒœæƒ³åˆè¿›å…¥äº†æ­»èƒ¡åŒã€‚</p>
<p>åœ¨ç½‘ä¸ŠæŸ¥é˜…ç›¸å…³èµ„æ–™ï¼Œå‘ç°äº†ä¸‹é¢ä¸€æ®µæè¿°ï¼š<code>socket.close()</code> æ“ä½œå¹¶ä¸èƒ½ç«‹å³é‡Šæ”¾ç»‘å®šçš„ç«¯å£ï¼Œè€Œæ˜¯æŠŠç«¯å£è®¾ç½®ä¸º TIME_WAIT çŠ¶æ€ï¼Œè¿‡æ®µæ—¶é—´(é»˜è®¤240s)æ‰é‡Šæ”¾(ç”¨ <code>netstat -na</code> å¯ä»¥çœ‹åˆ°)ï¼Œå¦‚æœå»ºç«‹çŸ­è¿æ¥çš„æ“ä½œè¾ƒä¸ºé¢‘ç¹ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç³»ç»Ÿç«¯å£èµ„æºè€—å°½ã€‚æ‰€ä»¥ï¼Œæœ€ç»ˆç¡®å®šé—®é¢˜è¿˜æ˜¯åœ¨ Socket çš„å…³é—­ä¸Šï¼Œæ—¢ç„¶æ‰¾åˆ°äº†é—®é¢˜æ‰€åœ¨ï¼Œé‚£ä¹ˆåœ¨ä¸ä¿®æ”¹ FTPClient ä»£ç çš„æ¡ä»¶ä¸‹ï¼Œå¯é‡‡ç”¨å¦‚ä¸‹è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>æ‰©å¤§æœºå™¨å¯ç”¨çš„ç«¯å£èŒƒå›´</li>
<li>å¼€å¯ç«¯å£çš„å¤ç”¨ä¸å¿«é€Ÿå›æ”¶</li>
</ul>
<p>è¿ç»´äººå‘˜æŒ‰ä¸Šè¿°æ–¹æ¡ˆå¯¹æ“ä½œç³»ç»Ÿè¿›è¡Œè®¾ç½®ä¹‹åï¼Œcheckpoint æ•°æ®åˆ° FTP æ—¶ï¼Œæœªå†å‘ç”Ÿç«¯å£è¢«å ç”¨é—®é¢˜ã€‚</p>
<h2 id="03-å‚è€ƒèµ„æ–™"><a href="#03-å‚è€ƒèµ„æ–™" class="headerlink" title="03.å‚è€ƒèµ„æ–™"></a>03.å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://bbs.csdn.net/topics/320024769">è¯·æ•™Address already in use: connecté—®é¢˜</a></li>
<li><a href="https://www.cnblogs.com/dasusu/p/10006899.html">è®°å½• FTPClient è¶…æ—¶å¤„ç†çš„ç›¸å…³é—®é¢˜</a></li>
</ul>
]]></content>
      <categories>
        <category>flink</category>
      </categories>
      <tags>
        <tag>flink</tag>
      </tags>
  </entry>
  <entry>
    <title>Flink æºç æµ…æ 001ï¼šç®—å­å†…éƒ¨åšäº†ä»€ä¹ˆ</title>
    <url>/2018/05/18/flink/Flink%20%E6%BA%90%E7%A0%81%E6%B5%85%E6%9E%90%20001%EF%BC%9A%E7%AE%97%E5%AD%90%E5%86%85%E9%83%A8%E5%81%9A%E4%BA%86%E4%BB%80%E4%B9%88/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<blockquote>
<p>ä»è¯»ä¹¦åˆ°å·¥ä½œï¼Œæ–­æ–­ç»­ç»­è®°è¿‡ä¸€äº›ç¬”è®°ï¼Œä½†ä¸€ç›´æ²¡èƒ½åšæŒä¸‹æ¥ã€‚æ€»ç»“äº†å‡ ä¸ªåŸå› ï¼š<br>1.å«Œå¼ƒç¬”è®°çš„æ’ç‰ˆä¸ç¾è§‚<del>å¤ªä¸‘äº†ï¼Œå†™äº†è‡ªå·±éƒ½ä¸æƒ³çœ‹<br>2.è¿½æ±‚ç¬”è®°çš„å¤§è€Œå…¨</del>ä¸»é¢˜è¡ç”Ÿå†…å®¹ç¹æ‚ï¼Œå¤šåˆ°ä¸æƒ³å†™<br>3.æ‡’~æ˜¾è€Œæ˜“è§ğŸ˜‚</p>
<p>ä¸ºäº†èƒ½åšæŒä¸‹å»ï¼Œç‰¹å°†æœ¬ç³»åˆ—æ–‡ç« å‘½åä¸ºã€Šæµ…æã€‹ï¼Œæé†’è‡ªå·±åœ¨æ¯ç¯‡æ–‡ç« ä¸­ï¼Œå°½é‡ç”¨ç®€çŸ­çš„ç¯‡å¹…ã€ç®€æ˜çš„è¯­è¨€å»å¤§è‡´è¯´æ¸…æ¥šä¸€ä¸ªä¸»é¢˜ï¼Œè¦æ›´å¤šåœ°å…³æ³¨ä¸»å¹²è„‰ç»œï¼Œä¸è¦é™·åœ¨ç»†ææœ«èŠ‚ä¸­ã€‚</p>
<p>é—²è¯å°‘å™ï¼Œæœ¬æ–‡æˆ‘ä»¬æ¥çœ‹ä¸‹å½“è°ƒç”¨ Flink ç®—å­çš„æ—¶å€™ï¼Œæ¡†æ¶å†…éƒ¨åšäº†å“ªäº›å·¥ä½œã€‚</p>
</blockquote>
<h2 id="æœ‰è¯·-Word-Count"><a href="#æœ‰è¯·-Word-Count" class="headerlink" title="æœ‰è¯· Word Count"></a>æœ‰è¯· Word Count</h2><p><code>Word Count</code> ä¹‹äºå¤§æ•°æ®æ­£å¦‚ <code>Hello World</code> ä¹‹äºç¼–ç¨‹è¯­è¨€ï¼Œè™½ç„¶ç®€å•ï¼Œä½†æ‰§è¡Œè¿‡ç¨‹å´æ¶‰åŠåˆ°åº•å±‚çš„è¯¸å¤šæ–¹é¢ã€‚ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€ä¸ª <code>Flink Word Count</code> ç¤ºä¾‹æ¥å¤ä¹ ä¸‹ <code>Flink</code> ç®—å­çš„ä½¿ç”¨ï¼Œåæ–‡å°†ä»¥ <code>flatMap</code> ä¸ºä¾‹ï¼Œæ¥æ¢ç©¶ç®—å­çš„å†…éƒ¨å®ç°ã€‚</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/flink-word-count.png"></p>
<h2 id="ç›¸å…³æ¦‚å¿µä»‹ç»"><a href="#ç›¸å…³æ¦‚å¿µä»‹ç»" class="headerlink" title="ç›¸å…³æ¦‚å¿µä»‹ç»"></a>ç›¸å…³æ¦‚å¿µä»‹ç»</h2><p>ç£¨åˆ€ä¸è¯¯ç æŸ´åŠŸï¼Œåœ¨æ¢ç´¢ <code>flatMap</code> çš„æ‰§è¡Œæµç¨‹ä¹‹å‰ï¼Œå…ˆæ¥çœ‹ä¸‹ <code>Flink</code> ä½œä¸šä¸­çš„ä¸€äº›æŠ½è±¡ï¼Œå…·ä½“åŒ…æ‹¬ <code>Function</code>ã€<code>StreamOperator</code>ã€<code>Transformation</code>ã€<code>DataStream</code>ã€‚</p>
<p><strong>1.Function</strong></p>
<p>ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°çš„åŸºç±»ï¼Œ<code>Word Count</code> ç¤ºä¾‹ä¸­çš„ <code>Tokenizer</code> å®ç°äº† <code>FlatMapFunction</code>ï¼Œ<code>FlatMapFunction</code> ä¾¿æ˜¯ <code>Function</code> çš„ä¸€ä¸ªå­ç±»</p>
<p><strong>2.StreamOperator</strong></p>
<p><code>Flink</code> ç®—å­åœ¨è¿è¡Œæ—¶çš„ä½“ç°ï¼Œ<code>AbstractUdfStreamOperator</code> æ˜¯å…¶ä¸€ä¸ªæŠ½è±¡å­ç±»ï¼Œè¡¨ç¤ºåŒ…å« <code>Function</code> çš„ <code>StreamOperator</code></p>
<p><strong>3.Transformation</strong></p>
<p>å¯¹ <code>DataStream</code> çš„è½¬æ¢æ“ä½œï¼Œ<code>OneInputTransformation</code> æ˜¯å…¶ä¸€ä¸ªå­ç±»ï¼ŒåŒ…å« <code>OneInputStreamOperator</code></p>
<p><strong>4.DataStream</strong></p>
<p>å¯ä»¥ç®€å•å°†å…¶ç†è§£ä¸ºå¯¹ <code>Transformation</code> å’Œ <code>StreamExecutionEnvironment</code> çš„ä¸Šå±‚å°è£…ï¼Œ<code>SingleOutputStreamOperator</code> æ˜¯å…¶ä¸€ä¸ªå­ç±»</p>
<h2 id="flatMap-æ‰§è¡Œæµç¨‹"><a href="#flatMap-æ‰§è¡Œæµç¨‹" class="headerlink" title="flatMap æ‰§è¡Œæµç¨‹"></a>flatMap æ‰§è¡Œæµç¨‹</h2><p><code>flatMap</code> çš„è°ƒç”¨é“¾å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/flink-method-doTransform.png"></p>
<p><strong>1.è·å– <code>FlatMapFunction</code> çš„è¿”å›ç±»å‹ï¼Œç„¶åè°ƒç”¨å¸¦è¿”å›ç±»å‹çš„é‡è½½æ–¹æ³•</strong></p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/flink-method-flatmap-1.png"></p>
<p>è°ƒç”¨ <code>flatMap</code> æ–¹æ³•æ—¶ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šè¿”å›ç±»å‹ï¼Œé‚£ä¹ˆä¼šé€šè¿‡ <code>TypeExtractor</code> æ¥è‡ªåŠ¨æå–è¿”å›ç±»å‹ï¼Œç„¶åå†è°ƒç”¨å¸¦è¿”å›ç±»å‹çš„é‡è½½æ–¹æ³•ã€‚</p>
<p>ä¸Šè¿°ä»£ç ä¸­æœ‰å‡ ä¸ªæœ‰æ„æ€çš„åœ°æ–¹æœ‰å¿…è¦äº†è§£ä¸‹ï¼š</p>
<ul>
<li><code>clean(flatMapper)</code>ï¼šé—­åŒ…æ¸…é™¤ã€‚ç®€å•è§£é‡Šä¸‹ï¼Œå†…éƒ¨ç±»æŒæœ‰å¤–éƒ¨ç±»çš„å¼•ç”¨ï¼Œå¦‚æœå¤–éƒ¨ç±»ä¸å¯åºåˆ—åŒ–ï¼Œé‚£ä¹ˆå†…éƒ¨ç±»å³ä½¿å®ç°äº†åºåˆ—åŒ–æ¥å£ï¼Œä¹Ÿæ˜¯æ— æ³•åºåˆ—åŒ–çš„ï¼Œé—­åŒ…æ¸…é™¤å°±æ˜¯é€šè¿‡å­—èŠ‚ç æŠ€æœ¯ï¼Œå°†å†…éƒ¨ç±»ä¸­æŒæœ‰çš„å¤–éƒ¨ç±»å¼•ç”¨ç»™æ¸…é™¤æ‰ï¼Œæ›´å¤šä¿¡æ¯å¯å‚è€ƒï¼š<a href="https://issues.apache.org/jira/browse/FLINK-1325">FLINK-1325</a>ï¼›</li>
<li><code>Utils.getCallLocationName()</code>ï¼šè·å–æ–¹æ³•çš„è°ƒç”¨ä½ç½®ï¼Œè¯¥åŠŸèƒ½æ˜¯é€šè¿‡ <code>Thread#getStackTrace()</code> å®ç°çš„ï¼Œæˆ‘ä»¬ä¸€èˆ¬å¾ˆå°‘ä½¿ç”¨ï¼Œåœ¨æ¡†æ¶æˆ–å·¥å…·ä¸­ç”¨çš„è¾ƒå¤šï¼›</li>
<li><code>getFlatMapReturnTypes</code> çš„ç¬¬å››ä¸ªå‚æ•°ï¼štrue è¡¨ç¤ºå½“æå–ç±»å‹å¤±è´¥æ—¶ï¼Œè¿”å›ä¸€ä¸ª <code>MissingTypeInfo</code> å®ä¾‹ï¼Œè€Œä¸æ˜¯æŠ›å‡ºå¼‚å¸¸ï¼›</li>
</ul>
<p>2.åˆ›å»º <code>StreamFlatMap</code>ï¼Œè°ƒç”¨ <code>transform</code> æ–¹æ³•</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/flink-datastream-flatmap-2.png"></p>
<p><code>StreamFlatMap</code> æ˜¯ <code>AbstractUdfStreamOperator</code> çš„å­ç±»ï¼Œåœ¨ <code>Flink</code> ä½œä¸šè¿è¡Œæ—¶ï¼Œæ¯æ¥ä¸€æ¡æ•°æ®ï¼Œå…¶ <code>processElement</code> æ–¹æ³•ä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œå†…éƒ¨å…¶å®å°±æ˜¯è°ƒç”¨ <code>FlatMapFunction</code> çš„ <code>flatMap</code> æ–¹æ³•æ¥å¤„ç†æ•°æ®ã€‚</p>
<p>3.åˆ›å»º <code>SimpleOperatorFactory</code>ï¼Œè°ƒç”¨ <code>doTransform</code> æ–¹æ³•</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/flink-method-transform.png"></p>
<p><code>SimpleOperatorFactory</code> æ˜¯ <code>StreamOperator</code> çš„å·¥å‚ç±»å­ç±»ï¼Œæ˜¯å¯¹å·²æœ‰ <code>StreamOperator</code> çš„å°è£…ï¼Œå¯ä»¥å¯¹ <code>StreamOperator</code> åšä¸€äº›é¢å¤–é…ç½®ï¼Œå¦‚è®¾ç½®ç®—å­é“¾æ¥ç­–ç•¥ã€å®šæ—¶å™¨æœåŠ¡ç­‰ã€‚</p>
<p>4.å®ç°ç”¨æˆ·ä»£ç åˆ° <code>Transformation</code> è½¬æ¢çš„æ ¸å¿ƒé€»è¾‘</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/flink-method-doTransform-1.png"></p>
<p>è¿™é‡Œè¿›å…¥åˆ°åˆ›å»º <code>Transformation</code> çš„æ ¸å¿ƒæµç¨‹ï¼š</p>
<ul>
<li>è§¦å‘å¼‚å¸¸ï¼šå‰é¢æˆ‘ä»¬æåˆ°è¿‡ï¼Œ<code>TypeExtractor#getFlatMapReturnTypes</code> æ–¹æ³•æå–å‡½æ•°çš„è¿”å›ç±»å‹æ—¶ï¼Œç¬¬å››ä¸ªå‚æ•°ç”¨äºæ§åˆ¶ç±»å‹æå–å¤±è´¥æ—¶æ˜¯å¦æŠ›å‡ºå¼‚å¸¸ï¼Œå¦‚æœä¸º trueï¼Œä¸æŠ›å‡ºå¼‚å¸¸ï¼Œè€Œæ˜¯è¿”å› <code>MissingTypeInfo</code>ã€‚å½“å‰æ­¥éª¤çš„ç›®çš„å³æ˜¯ç”¨äºè§¦å‘å¼‚å¸¸ï¼Œå½“ä¸Šä¸€ä¸ª <code>Transformation</code> çš„è¾“å‡ºæ˜¯ <code>MissingTypeInfo</code> æ—¶ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼›</li>
<li>åˆ›å»º <code>OneInputTransformation</code>ï¼šå¯ä»¥å‘ç°ï¼Œ<code>OneInputTransformation</code> é™¤äº†åŒ…å« <code>StreamOperator</code> å¤–ï¼Œè¿˜è®°å½•äº†ä¸Šæ¸¸ <code>Transformation</code>ã€è¾“å‡ºç±»å‹ã€å¹¶è¡Œåº¦ç­‰ä¿¡æ¯ï¼›</li>
<li>å°† <code>Transformation</code> å’Œ <code>StreamExecutionEnvironment</code> å°è£…ä¸º <code>DataStream</code>ï¼Œè¿™é‡Œæ˜¯ <code>SingleOutputStreamOperator</code>ï¼›</li>
<li>å°† <code>Transformation</code> è®°å½•åˆ° <code>StreamExecutionEnvironment</code>ï¼š<code>StreamExecutionEnvironment</code> æœ‰ä¸ªåˆ—è¡¨ç±»å‹çš„æˆå‘˜å˜é‡ <code>transformations</code>ï¼Œç”¨äºé¡ºåºè®°å½• <code>Flink</code> ä½œä¸šä¸­åŒ…å«çš„ <code>Transformation</code>ï¼Œåç»­å°†éå†è¯¥æˆå‘˜å˜é‡æ¥åˆ›å»º <code>StreamGraph</code>ï¼›</li>
<li>è¿”å› DataStreamï¼Œç»§ç»­æ‰§è¡Œè½¬æ¢ï¼›</li>
</ul>
<p>ç†Ÿæ‚‰ <code>Flink</code> çš„ç”¨æˆ·åº”è¯¥çŸ¥é“ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨ <code>setParallelism</code> æ–¹æ³•æ¥æŒ‡å®šç®—å­çš„å¹¶è¡Œåº¦ï¼Œå…¶æ–¹æ³•å®ç°å¦‚ä¸‹ï¼š</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/flink-method-setParallelism.png"></p>
<p>å¯ä»¥å‘ç°ï¼Œè¿™é‡Œå…¶å®æ˜¯è®¾ç½®  <code>Transformation</code>  çš„å¹¶è¡Œåº¦ã€‚å¹¶ä¸æ˜¯æ‰€æœ‰çš„ <code>Transformation</code> éƒ½æ˜¯å¯ä»¥å¹¶è¡Œçš„ï¼Œæ‰€ä»¥è®¾ç½®ä¹‹å‰ï¼Œä¼šå…ˆå¯¹å¹¶è¡Œåº¦çš„åˆæ³•æ€§è¿›è¡Œæ ¡éªŒã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ç”¨æˆ·ç®—å­çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œå…¶å®å°±æ˜¯åˆ›å»º <code>Transformation</code> çš„è¿‡ç¨‹ï¼Œè¿™äº› <code>Transformation</code> è®°å½•åœ¨ <code>StreamExecutionEnvironment</code> ä¸­ï¼Œåç»­å°†åŸºäºæ­¤æ¥åˆ›å»º <code>StreamGraph</code>ã€‚</p>
]]></content>
      <categories>
        <category>flink</category>
      </categories>
      <tags>
        <tag>flink</tag>
      </tags>
  </entry>
  <entry>
    <title>Kafka å•ç‚¹éƒ¨ç½²</title>
    <url>/2015/11/15/kafka/Kafka%20%E5%8D%95%E8%8A%82%E7%82%B9%E9%83%A8%E7%BD%B2/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-é…ç½®å¹¶å¯åŠ¨-zk"><a href="#01-é…ç½®å¹¶å¯åŠ¨-zk" class="headerlink" title="01.é…ç½®å¹¶å¯åŠ¨ zk"></a>01.é…ç½®å¹¶å¯åŠ¨ zk</h2><p>è¿›å…¥ conf ç›®å½•ï¼Œå°† zoo_sample.cfg é‡å‘½åä¸º zoo.cfgï¼Œé…ç½® zoo.cfg ä¸­çš„ dataDirï¼Œç„¶åå¯åŠ¨ zkï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">bin/zkServer.sh start</span><br></pre></td></tr></table></figure>

<h2 id="02-é…ç½®å¹¶å¯åŠ¨-kafka"><a href="#02-é…ç½®å¹¶å¯åŠ¨-kafka" class="headerlink" title="02.é…ç½®å¹¶å¯åŠ¨ kafka"></a>02.é…ç½®å¹¶å¯åŠ¨ kafka</h2><p>é…ç½® server.properties ä¸­çš„ log.dirsï¼Œç„¶åå¯åŠ¨ kafkaï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">bin/kafka-server-start.sh -daemon config/server.properties</span><br></pre></td></tr></table></figure>

<h2 id="03-topic-ç›¸å…³å‘½ä»¤"><a href="#03-topic-ç›¸å…³å‘½ä»¤" class="headerlink" title="03.topic ç›¸å…³å‘½ä»¤"></a>03.topic ç›¸å…³å‘½ä»¤</h2><ul>
<li>åˆ›å»º topic</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">bin/kafka-topics.sh \</span><br><span class="line">--zookeeper localhost:2181 \</span><br><span class="line">--create \</span><br><span class="line">--topic model_topic \</span><br><span class="line">--partitions 3 \</span><br><span class="line">--replication-factor 1</span><br></pre></td></tr></table></figure>

<ul>
<li>æŸ¥çœ‹ topic</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">bin/kafka-topics.sh \</span><br><span class="line">--zookeeper localhost:2181 \</span><br><span class="line">--list</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>kakfa</category>
      </categories>
      <tags>
        <tag>kakfa</tag>
      </tags>
  </entry>
  <entry>
    <title>Git for windows ä¸­æ–‡ä¹±ç è§£å†³åŠæ³•</title>
    <url>/2016/03/11/tool/Git%20for%20windows%20%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-é—®é¢˜"><a href="#01-é—®é¢˜" class="headerlink" title="01.é—®é¢˜"></a>01.é—®é¢˜</h2><p><code>git status</code> æ—¶æ˜¾ç¤ºä¹±ç ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">\316\304\261\276\316\304\265\265.txt</span><br></pre></td></tr></table></figure>

<h2 id="02-è§£å†³"><a href="#02-è§£å†³" class="headerlink" title="02.è§£å†³"></a>02.è§£å†³</h2><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global core.quotepath <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h2 id="03-å‚è€ƒ"><a href="#03-å‚è€ƒ" class="headerlink" title="03.å‚è€ƒ"></a>03.å‚è€ƒ</h2><ul>
<li><a href="https://www.cnblogs.com/ayseeing/p/4203679.html">Git for windows ä¸­æ–‡ä¹±ç è§£å†³æ–¹æ¡ˆ</a></li>
</ul>
]]></content>
      <categories>
        <category>tool</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo çš„ Next ä¸»é¢˜ç¾åŒ–</title>
    <url>/2022/06/06/tool/Hexo%20%E7%9A%84%20Next%20%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-NexT-ä¸»é¢˜çš„ä¸‹è½½ä¸å®‰è£…"><a href="#01-NexT-ä¸»é¢˜çš„ä¸‹è½½ä¸å®‰è£…" class="headerlink" title="01.NexT ä¸»é¢˜çš„ä¸‹è½½ä¸å®‰è£…"></a>01.NexT ä¸»é¢˜çš„ä¸‹è½½ä¸å®‰è£…</h2><ul>
<li>ä¸‹è½½ <a href="https://github.com/theme-next/hexo-theme-next/releases">NexT</a> ä¸»é¢˜å¹¶å°†å…¶è§£å‹åˆ°åšå®¢çš„ themes ç›®å½•ä¸‹ï¼Œä¿®æ”¹åç§°ä¸º nextï¼›</li>
<li>ä¿®æ”¹åšå®¢æ ¹ç›®å½•ä¸‹çš„ _config.ymlï¼Œå°† theme é¡¹è®¾ç½®ä¸º next;</li>
</ul>
<h2 id="02-è®¾ç½®-NexT-ä¸»é¢˜æ ·å¼"><a href="#02-è®¾ç½®-NexT-ä¸»é¢˜æ ·å¼" class="headerlink" title="02.è®¾ç½® NexT ä¸»é¢˜æ ·å¼"></a>02.è®¾ç½® NexT ä¸»é¢˜æ ·å¼</h2><p>ç¼–è¾‘ next ä¸»é¢˜ç›®å½•ä¸‹çš„ _config.yml æ–‡ä»¶ï¼Œæ‰“å¼€ç›¸åº” schema çš„æ³¨é‡Šï¼Œç»†èŠ‚å¦‚ä¸‹ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Scheme Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Schemes</span></span><br><span class="line"><span class="comment">#scheme: Muse</span></span><br><span class="line"><span class="comment">#scheme: Mist</span></span><br><span class="line"><span class="comment">#scheme: Pisces</span></span><br><span class="line"><span class="attr">scheme:</span> <span class="string">Gemini</span></span><br></pre></td></tr></table></figure>

<h2 id="03-è®¾ç½®-Hexo-ä½¿ç”¨ä¸­æ–‡"><a href="#03-è®¾ç½®-Hexo-ä½¿ç”¨ä¸­æ–‡" class="headerlink" title="03.è®¾ç½® Hexo ä½¿ç”¨ä¸­æ–‡"></a>03.è®¾ç½® Hexo ä½¿ç”¨ä¸­æ–‡</h2><p>ç¼–è¾‘åšå®¢æ ¹ç›®å½•ä¸‹çš„ _config.yml æ–‡ä»¶ï¼Œä¿®æ”¹ language é¡¹ï¼Œç»†èŠ‚å¦‚ä¸‹ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br></pre></td></tr></table></figure>

<h2 id="04-è®¾ç½®-NexT-ä¸»é¢˜å¤´åƒ"><a href="#04-è®¾ç½®-NexT-ä¸»é¢˜å¤´åƒ" class="headerlink" title="04.è®¾ç½® NexT ä¸»é¢˜å¤´åƒ"></a>04.è®¾ç½® NexT ä¸»é¢˜å¤´åƒ</h2><p>ç¼–è¾‘ next ä¸»é¢˜ç›®å½•ä¸‹çš„ _config.yml æ–‡ä»¶ï¼Œå…·ä½“è®¾ç½®å¦‚ä¸‹ï¼ˆ<code>images</code> ä½äº <code>themes/next/source</code> ä¸‹ï¼‰ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="comment"># å¤´åƒå›¾ç‰‡</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">/images/gakki.png</span></span><br><span class="line">  <span class="comment"># å¤´åƒä¸ºåœ†å½¢</span></span><br><span class="line">  <span class="attr">rounded:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># é¼ æ ‡ç§»åŠ¨åˆ°å¤´åƒæ—¶ï¼Œå¤´åƒæ—‹è½¬</span></span><br><span class="line">  <span class="attr">rotated:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h2 id="05-è®¾ç½®åšå®¢æ ‡é¢˜ã€ä½œè€…ä¿¡æ¯"><a href="#05-è®¾ç½®åšå®¢æ ‡é¢˜ã€ä½œè€…ä¿¡æ¯" class="headerlink" title="05.è®¾ç½®åšå®¢æ ‡é¢˜ã€ä½œè€…ä¿¡æ¯"></a>05.è®¾ç½®åšå®¢æ ‡é¢˜ã€ä½œè€…ä¿¡æ¯</h2><p>ç¼–è¾‘åšå®¢æ ¹ç›®å½•ä¸‹çš„ _config.yml æ–‡ä»¶ï¼Œå…·ä½“è®¾ç½®å¦‚ä¸‹ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">Leo&#x27;s</span> <span class="string">Blog</span> <span class="comment">#æ ‡é¢˜</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">&#x27;åæ ‡æ­å·ï¼Œå–é©¬ä¸ºç”Ÿ&#x27;</span> <span class="comment">#å­æ ‡é¢˜</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">Leo</span> <span class="comment">#ä½œè€…ä¿¡æ¯</span></span><br></pre></td></tr></table></figure>

<h2 id="06-è®¾ç½®åšå®¢åŠ¨æ€èƒŒæ™¯"><a href="#06-è®¾ç½®åšå®¢åŠ¨æ€èƒŒæ™¯" class="headerlink" title="06.è®¾ç½®åšå®¢åŠ¨æ€èƒŒæ™¯"></a>06.è®¾ç½®åšå®¢åŠ¨æ€èƒŒæ™¯</h2><p>å¯ç”¨ three èƒŒæ™¯çš„æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1.è¿›å…¥ next ä¸»é¢˜ç›®å½•</span></span><br><span class="line"><span class="string">cd</span> <span class="string">themes/next</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.æ‹‰å– three èƒŒæ™¯ä¾èµ–</span></span><br><span class="line"><span class="string">git</span> <span class="string">clone</span> <span class="string">https://github.com/theme-next/theme-next-three</span> <span class="string">source/lib/three</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.ç¼–è¾‘ next ä¸»é¢˜ç›®å½•ä¸‹çš„ _config.yml æ–‡ä»¶</span></span><br><span class="line"><span class="attr">three:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">three_waves:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">canvas_lines:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">canvas_sphere:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<p>å¯ç”¨ canvas-nest èƒŒæ™¯çš„æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1.è¿›å…¥ next ä¸»é¢˜ç›®å½•</span></span><br><span class="line"><span class="string">cd</span> <span class="string">themes/next</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.æ‹‰å– canvas-next èƒŒæ™¯ä¾èµ–</span></span><br><span class="line"><span class="string">git</span> <span class="string">clone</span> <span class="string">https://github.com/theme-next/theme-next-canvas-nest</span> <span class="string">source/lib/canvas-nest</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.ç¼–è¾‘ next ä¸»é¢˜ç›®å½•ä¸‹çš„ _config.yml æ–‡ä»¶</span></span><br><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">onmobile:</span> <span class="literal">true</span> <span class="comment"># Display on mobile or not</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&quot;0,0,255&quot;</span> <span class="comment"># RGB values, use `,` to separate</span></span><br><span class="line">  <span class="attr">opacity:</span> <span class="number">0.5</span> <span class="comment"># The opacity of line: 0~1</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span> <span class="comment"># z-index property of the background</span></span><br><span class="line">  <span class="attr">count:</span> <span class="number">150</span> <span class="comment"># The number of lines, default 99</span></span><br></pre></td></tr></table></figure>

<p>å¯ç”¨ canvas-ribbon èƒŒæ™¯çš„æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1.è¿›å…¥ next ä¸»é¢˜ç›®å½•</span></span><br><span class="line"><span class="string">cd</span> <span class="string">themes/next</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.æ‹‰å– canvas-ribbon èƒŒæ™¯ä¾èµ–</span></span><br><span class="line"><span class="string">git</span> <span class="string">clone</span> <span class="string">https://github.com/theme-next/theme-next-canvas-ribbon</span> <span class="string">source/lib/canvas-ribbon</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.ç¼–è¾‘ next ä¸»é¢˜ç›®å½•ä¸‹çš„ _config.yml æ–‡ä»¶</span></span><br><span class="line"><span class="attr">canvas_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">size:</span> <span class="number">300</span> <span class="comment"># The width of the ribbon</span></span><br><span class="line">  <span class="attr">alpha:</span> <span class="number">0.6</span> <span class="comment"># The transparency of the ribbon</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span> <span class="comment"># The display level of the ribbon</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>æç¤º1ï¼šè¦åˆ é™¤ clone ä¸‹æ¥çš„ä¾èµ–åŒ…ä¸­çš„ .git æ–‡ä»¶å¤¹</p>
<p>æç¤º2ï¼šå¦‚æœä¸‹è½½çš„ä¾èµ–æ— æ³•æäº¤åˆ° githubï¼Œåˆ™å¯èƒ½æ˜¯ç”± next ç›®å½•ä¸‹çš„ .gitignore å¼•èµ·çš„</p>
<p>æç¤º3ï¼šæˆ‘ä½¿ç”¨çš„åŠ¨æ€èƒŒæ™¯æ˜¯ canvas-nest</p>
</blockquote>
<h2 id="07-è®¾ç½®é¡µé¢åŠ è½½æ•ˆæœ"><a href="#07-è®¾ç½®é¡µé¢åŠ è½½æ•ˆæœ" class="headerlink" title="07.è®¾ç½®é¡µé¢åŠ è½½æ•ˆæœ"></a>07.è®¾ç½®é¡µé¢åŠ è½½æ•ˆæœ</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1.è¿›å…¥ next ä¸»é¢˜ç›®å½•</span></span><br><span class="line"><span class="string">cd</span> <span class="string">themes/next</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.æ‹‰å– three èƒŒæ™¯ä¾èµ–</span></span><br><span class="line"><span class="string">git</span> <span class="string">clone</span> <span class="string">https://github.com/theme-next/theme-next-pace</span> <span class="string">source/lib/pace</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.ç¼–è¾‘ next ä¸»é¢˜ç›®å½•ä¸‹çš„ _config.yml æ–‡ä»¶</span></span><br><span class="line"><span class="attr">pace:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Themes list:</span></span><br><span class="line">  <span class="comment"># big-counter | bounce | barber-shop | center-atom </span></span><br><span class="line">  <span class="comment"># center-circle | center-radar | center-simple</span></span><br><span class="line">  <span class="comment"># corner-indicator | fill-left | flat-top | flash </span></span><br><span class="line">  <span class="comment"># loading-bar | mac-osx | material | minimal</span></span><br><span class="line">  <span class="attr">theme:</span> <span class="string">center-atom</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>æç¤º1ï¼šè¦åˆ é™¤ clone ä¸‹æ¥çš„ä¾èµ–åŒ…ä¸­çš„ .git æ–‡ä»¶å¤¹</p>
<p>æç¤º2ï¼šå¦‚æœä¸‹è½½çš„ä¾èµ–æ— æ³•æäº¤åˆ° githubï¼Œåˆ™å¯èƒ½æ˜¯ç”± next ç›®å½•ä¸‹çš„ .gitignore å¼•èµ·çš„</p>
</blockquote>
<h2 id="08-è®¾ç½®é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆ"><a href="#08-è®¾ç½®é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆ" class="headerlink" title="08.è®¾ç½®é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆ"></a>08.è®¾ç½®é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆ</h2><p>é¦–å…ˆåœ¨ themes&#x2F;next&#x2F;source&#x2F;js&#x2F;src é‡Œé¢å»ºä¸€ä¸ªå« fireworks.js çš„æ–‡ä»¶ï¼ˆ<code>src</code> æ–‡ä»¶å¤¹éœ€è¦è‡ªå·±åˆ›å»ºï¼‰ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;<span class="keyword">function</span> <span class="title function_">updateCoords</span>(<span class="params">e</span>)&#123;pointerX=(e.<span class="property">clientX</span>||e.<span class="property">touches</span>[<span class="number">0</span>].<span class="property">clientX</span>)-canvasEl.<span class="title function_">getBoundingClientRect</span>().<span class="property">left</span>,pointerY=e.<span class="property">clientY</span>||e.<span class="property">touches</span>[<span class="number">0</span>].<span class="property">clientY</span>-canvasEl.<span class="title function_">getBoundingClientRect</span>().<span class="property">top</span>&#125;<span class="keyword">function</span> <span class="title function_">setParticuleDirection</span>(<span class="params">e</span>)&#123;<span class="keyword">var</span> t=anime.<span class="title function_">random</span>(<span class="number">0</span>,<span class="number">360</span>)*<span class="title class_">Math</span>.<span class="property">PI</span>/<span class="number">180</span>,a=anime.<span class="title function_">random</span>(<span class="number">50</span>,<span class="number">180</span>),n=[-<span class="number">1</span>,<span class="number">1</span>][anime.<span class="title function_">random</span>(<span class="number">0</span>,<span class="number">1</span>)]*a;<span class="keyword">return</span>&#123;<span class="attr">x</span>:e.<span class="property">x</span>+n*<span class="title class_">Math</span>.<span class="title function_">cos</span>(t),<span class="attr">y</span>:e.<span class="property">y</span>+n*<span class="title class_">Math</span>.<span class="title function_">sin</span>(t)&#125;&#125;<span class="keyword">function</span> <span class="title function_">createParticule</span>(<span class="params">e,t</span>)&#123;<span class="keyword">var</span> a=&#123;&#125;;<span class="keyword">return</span> a.<span class="property">x</span>=e,a.<span class="property">y</span>=t,a.<span class="property">color</span>=colors[anime.<span class="title function_">random</span>(<span class="number">0</span>,colors.<span class="property">length</span>-<span class="number">1</span>)],a.<span class="property">radius</span>=anime.<span class="title function_">random</span>(<span class="number">16</span>,<span class="number">32</span>),a.<span class="property">endPos</span>=<span class="title function_">setParticuleDirection</span>(a),a.<span class="property">draw</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;ctx.<span class="title function_">beginPath</span>(),ctx.<span class="title function_">arc</span>(a.<span class="property">x</span>,a.<span class="property">y</span>,a.<span class="property">radius</span>,<span class="number">0</span>,<span class="number">2</span>*<span class="title class_">Math</span>.<span class="property">PI</span>,!<span class="number">0</span>),ctx.<span class="property">fillStyle</span>=a.<span class="property">color</span>,ctx.<span class="title function_">fill</span>()&#125;,a&#125;<span class="keyword">function</span> <span class="title function_">createCircle</span>(<span class="params">e,t</span>)&#123;<span class="keyword">var</span> a=&#123;&#125;;<span class="keyword">return</span> a.<span class="property">x</span>=e,a.<span class="property">y</span>=t,a.<span class="property">color</span>=<span class="string">&quot;#F00&quot;</span>,a.<span class="property">radius</span>=<span class="number">0.1</span>,a.<span class="property">alpha</span>=<span class="number">0.5</span>,a.<span class="property">lineWidth</span>=<span class="number">6</span>,a.<span class="property">draw</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;ctx.<span class="property">globalAlpha</span>=a.<span class="property">alpha</span>,ctx.<span class="title function_">beginPath</span>(),ctx.<span class="title function_">arc</span>(a.<span class="property">x</span>,a.<span class="property">y</span>,a.<span class="property">radius</span>,<span class="number">0</span>,<span class="number">2</span>*<span class="title class_">Math</span>.<span class="property">PI</span>,!<span class="number">0</span>),ctx.<span class="property">lineWidth</span>=a.<span class="property">lineWidth</span>,ctx.<span class="property">strokeStyle</span>=a.<span class="property">color</span>,ctx.<span class="title function_">stroke</span>(),ctx.<span class="property">globalAlpha</span>=<span class="number">1</span>&#125;,a&#125;<span class="keyword">function</span> <span class="title function_">renderParticule</span>(<span class="params">e</span>)&#123;<span class="keyword">for</span>(<span class="keyword">var</span> t=<span class="number">0</span>;t&lt;e.<span class="property">animatables</span>.<span class="property">length</span>;t++)&#123;e.<span class="property">animatables</span>[t].<span class="property">target</span>.<span class="title function_">draw</span>()&#125;&#125;<span class="keyword">function</span> <span class="title function_">animateParticules</span>(<span class="params">e,t</span>)&#123;<span class="keyword">for</span>(<span class="keyword">var</span> a=<span class="title function_">createCircle</span>(e,t),n=[],i=<span class="number">0</span>;i&lt;numberOfParticules;i++)&#123;n.<span class="title function_">push</span>(<span class="title function_">createParticule</span>(e,t))&#125;anime.<span class="title function_">timeline</span>().<span class="title function_">add</span>(&#123;<span class="attr">targets</span>:n,<span class="attr">x</span>:<span class="keyword">function</span>(<span class="params">e</span>)&#123;<span class="keyword">return</span> e.<span class="property">endPos</span>.<span class="property">x</span>&#125;,<span class="attr">y</span>:<span class="keyword">function</span>(<span class="params">e</span>)&#123;<span class="keyword">return</span> e.<span class="property">endPos</span>.<span class="property">y</span>&#125;,<span class="attr">radius</span>:<span class="number">0.1</span>,<span class="attr">duration</span>:anime.<span class="title function_">random</span>(<span class="number">1200</span>,<span class="number">1800</span>),<span class="attr">easing</span>:<span class="string">&quot;easeOutExpo&quot;</span>,<span class="attr">update</span>:renderParticule&#125;).<span class="title function_">add</span>(&#123;<span class="attr">targets</span>:a,<span class="attr">radius</span>:anime.<span class="title function_">random</span>(<span class="number">80</span>,<span class="number">160</span>),<span class="attr">lineWidth</span>:<span class="number">0</span>,<span class="attr">alpha</span>:&#123;<span class="attr">value</span>:<span class="number">0</span>,<span class="attr">easing</span>:<span class="string">&quot;linear&quot;</span>,<span class="attr">duration</span>:anime.<span class="title function_">random</span>(<span class="number">600</span>,<span class="number">800</span>)&#125;,<span class="attr">duration</span>:anime.<span class="title function_">random</span>(<span class="number">1200</span>,<span class="number">1800</span>),<span class="attr">easing</span>:<span class="string">&quot;easeOutExpo&quot;</span>,<span class="attr">update</span>:renderParticule,<span class="attr">offset</span>:<span class="number">0</span>&#125;)&#125;<span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">e,t</span>)&#123;<span class="keyword">var</span> a;<span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="keyword">var</span> n=<span class="variable language_">this</span>,i=<span class="variable language_">arguments</span>;<span class="built_in">clearTimeout</span>(a),a=<span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;e.<span class="title function_">apply</span>(n,i)&#125;,t)&#125;&#125;<span class="keyword">var</span> canvasEl=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.fireworks&quot;</span>);<span class="keyword">if</span>(canvasEl)&#123;<span class="keyword">var</span> ctx=canvasEl.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>),numberOfParticules=<span class="number">30</span>,pointerX=<span class="number">0</span>,pointerY=<span class="number">0</span>,tap=<span class="string">&quot;mousedown&quot;</span>,colors=[<span class="string">&quot;#FF1461&quot;</span>,<span class="string">&quot;#18FF92&quot;</span>,<span class="string">&quot;#5A87FF&quot;</span>,<span class="string">&quot;#FBF38C&quot;</span>],setCanvasSize=<span class="title function_">debounce</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;canvasEl.<span class="property">width</span>=<span class="number">2</span>*<span class="variable language_">window</span>.<span class="property">innerWidth</span>,canvasEl.<span class="property">height</span>=<span class="number">2</span>*<span class="variable language_">window</span>.<span class="property">innerHeight</span>,canvasEl.<span class="property">style</span>.<span class="property">width</span>=<span class="variable language_">window</span>.<span class="property">innerWidth</span>+<span class="string">&quot;px&quot;</span>,canvasEl.<span class="property">style</span>.<span class="property">height</span>=<span class="variable language_">window</span>.<span class="property">innerHeight</span>+<span class="string">&quot;px&quot;</span>,canvasEl.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>).<span class="title function_">scale</span>(<span class="number">2</span>,<span class="number">2</span>)&#125;,<span class="number">500</span>),render=<span class="title function_">anime</span>(&#123;<span class="attr">duration</span>:<span class="number">1</span>/<span class="number">0</span>,<span class="attr">update</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>,<span class="number">0</span>,canvasEl.<span class="property">width</span>,canvasEl.<span class="property">height</span>)&#125;&#125;);<span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(tap,<span class="keyword">function</span>(<span class="params">e</span>)&#123;<span class="string">&quot;sidebar&quot;</span>!==e.<span class="property">target</span>.<span class="property">id</span>&amp;&amp;<span class="string">&quot;toggle-sidebar&quot;</span>!==e.<span class="property">target</span>.<span class="property">id</span>&amp;&amp;<span class="string">&quot;A&quot;</span>!==e.<span class="property">target</span>.<span class="property">nodeName</span>&amp;&amp;<span class="string">&quot;IMG&quot;</span>!==e.<span class="property">target</span>.<span class="property">nodeName</span>&amp;&amp;(render.<span class="title function_">play</span>(),<span class="title function_">updateCoords</span>(e),<span class="title function_">animateParticules</span>(pointerX,pointerY))&#125;,!<span class="number">1</span>),<span class="title function_">setCanvasSize</span>(),<span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>,setCanvasSize,!<span class="number">1</span>)&#125;<span class="string">&quot;use strict&quot;</span>;<span class="keyword">function</span> <span class="title function_">updateCoords</span>(<span class="params">e</span>)&#123;pointerX=(e.<span class="property">clientX</span>||e.<span class="property">touches</span>[<span class="number">0</span>].<span class="property">clientX</span>)-canvasEl.<span class="title function_">getBoundingClientRect</span>().<span class="property">left</span>,pointerY=e.<span class="property">clientY</span>||e.<span class="property">touches</span>[<span class="number">0</span>].<span class="property">clientY</span>-canvasEl.<span class="title function_">getBoundingClientRect</span>().<span class="property">top</span>&#125;<span class="keyword">function</span> <span class="title function_">setParticuleDirection</span>(<span class="params">e</span>)&#123;<span class="keyword">var</span> t=anime.<span class="title function_">random</span>(<span class="number">0</span>,<span class="number">360</span>)*<span class="title class_">Math</span>.<span class="property">PI</span>/<span class="number">180</span>,a=anime.<span class="title function_">random</span>(<span class="number">50</span>,<span class="number">180</span>),n=[-<span class="number">1</span>,<span class="number">1</span>][anime.<span class="title function_">random</span>(<span class="number">0</span>,<span class="number">1</span>)]*a;<span class="keyword">return</span>&#123;<span class="attr">x</span>:e.<span class="property">x</span>+n*<span class="title class_">Math</span>.<span class="title function_">cos</span>(t),<span class="attr">y</span>:e.<span class="property">y</span>+n*<span class="title class_">Math</span>.<span class="title function_">sin</span>(t)&#125;&#125;<span class="keyword">function</span> <span class="title function_">createParticule</span>(<span class="params">e,t</span>)&#123;<span class="keyword">var</span> a=&#123;&#125;;<span class="keyword">return</span> a.<span class="property">x</span>=e,a.<span class="property">y</span>=t,a.<span class="property">color</span>=colors[anime.<span class="title function_">random</span>(<span class="number">0</span>,colors.<span class="property">length</span>-<span class="number">1</span>)],a.<span class="property">radius</span>=anime.<span class="title function_">random</span>(<span class="number">16</span>,<span class="number">32</span>),a.<span class="property">endPos</span>=<span class="title function_">setParticuleDirection</span>(a),a.<span class="property">draw</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;ctx.<span class="title function_">beginPath</span>(),ctx.<span class="title function_">arc</span>(a.<span class="property">x</span>,a.<span class="property">y</span>,a.<span class="property">radius</span>,<span class="number">0</span>,<span class="number">2</span>*<span class="title class_">Math</span>.<span class="property">PI</span>,!<span class="number">0</span>),ctx.<span class="property">fillStyle</span>=a.<span class="property">color</span>,ctx.<span class="title function_">fill</span>()&#125;,a&#125;<span class="keyword">function</span> <span class="title function_">createCircle</span>(<span class="params">e,t</span>)&#123;<span class="keyword">var</span> a=&#123;&#125;;<span class="keyword">return</span> a.<span class="property">x</span>=e,a.<span class="property">y</span>=t,a.<span class="property">color</span>=<span class="string">&quot;#F00&quot;</span>,a.<span class="property">radius</span>=<span class="number">0.1</span>,a.<span class="property">alpha</span>=<span class="number">0.5</span>,a.<span class="property">lineWidth</span>=<span class="number">6</span>,a.<span class="property">draw</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;ctx.<span class="property">globalAlpha</span>=a.<span class="property">alpha</span>,ctx.<span class="title function_">beginPath</span>(),ctx.<span class="title function_">arc</span>(a.<span class="property">x</span>,a.<span class="property">y</span>,a.<span class="property">radius</span>,<span class="number">0</span>,<span class="number">2</span>*<span class="title class_">Math</span>.<span class="property">PI</span>,!<span class="number">0</span>),ctx.<span class="property">lineWidth</span>=a.<span class="property">lineWidth</span>,ctx.<span class="property">strokeStyle</span>=a.<span class="property">color</span>,ctx.<span class="title function_">stroke</span>(),ctx.<span class="property">globalAlpha</span>=<span class="number">1</span>&#125;,a&#125;<span class="keyword">function</span> <span class="title function_">renderParticule</span>(<span class="params">e</span>)&#123;<span class="keyword">for</span>(<span class="keyword">var</span> t=<span class="number">0</span>;t&lt;e.<span class="property">animatables</span>.<span class="property">length</span>;t++)&#123;e.<span class="property">animatables</span>[t].<span class="property">target</span>.<span class="title function_">draw</span>()&#125;&#125;<span class="keyword">function</span> <span class="title function_">animateParticules</span>(<span class="params">e,t</span>)&#123;<span class="keyword">for</span>(<span class="keyword">var</span> a=<span class="title function_">createCircle</span>(e,t),n=[],i=<span class="number">0</span>;i&lt;numberOfParticules;i++)&#123;n.<span class="title function_">push</span>(<span class="title function_">createParticule</span>(e,t))&#125;anime.<span class="title function_">timeline</span>().<span class="title function_">add</span>(&#123;<span class="attr">targets</span>:n,<span class="attr">x</span>:<span class="keyword">function</span>(<span class="params">e</span>)&#123;<span class="keyword">return</span> e.<span class="property">endPos</span>.<span class="property">x</span>&#125;,<span class="attr">y</span>:<span class="keyword">function</span>(<span class="params">e</span>)&#123;<span class="keyword">return</span> e.<span class="property">endPos</span>.<span class="property">y</span>&#125;,<span class="attr">radius</span>:<span class="number">0.1</span>,<span class="attr">duration</span>:anime.<span class="title function_">random</span>(<span class="number">1200</span>,<span class="number">1800</span>),<span class="attr">easing</span>:<span class="string">&quot;easeOutExpo&quot;</span>,<span class="attr">update</span>:renderParticule&#125;).<span class="title function_">add</span>(&#123;<span class="attr">targets</span>:a,<span class="attr">radius</span>:anime.<span class="title function_">random</span>(<span class="number">80</span>,<span class="number">160</span>),<span class="attr">lineWidth</span>:<span class="number">0</span>,<span class="attr">alpha</span>:&#123;<span class="attr">value</span>:<span class="number">0</span>,<span class="attr">easing</span>:<span class="string">&quot;linear&quot;</span>,<span class="attr">duration</span>:anime.<span class="title function_">random</span>(<span class="number">600</span>,<span class="number">800</span>)&#125;,<span class="attr">duration</span>:anime.<span class="title function_">random</span>(<span class="number">1200</span>,<span class="number">1800</span>),<span class="attr">easing</span>:<span class="string">&quot;easeOutExpo&quot;</span>,<span class="attr">update</span>:renderParticule,<span class="attr">offset</span>:<span class="number">0</span>&#125;)&#125;<span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">e,t</span>)&#123;<span class="keyword">var</span> a;<span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="keyword">var</span> n=<span class="variable language_">this</span>,i=<span class="variable language_">arguments</span>;<span class="built_in">clearTimeout</span>(a),a=<span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;e.<span class="title function_">apply</span>(n,i)&#125;,t)&#125;&#125;<span class="keyword">var</span> canvasEl=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.fireworks&quot;</span>);<span class="keyword">if</span>(canvasEl)&#123;<span class="keyword">var</span> ctx=canvasEl.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>),numberOfParticules=<span class="number">30</span>,pointerX=<span class="number">0</span>,pointerY=<span class="number">0</span>,tap=<span class="string">&quot;mousedown&quot;</span>,colors=[<span class="string">&quot;#FF1461&quot;</span>,<span class="string">&quot;#18FF92&quot;</span>,<span class="string">&quot;#5A87FF&quot;</span>,<span class="string">&quot;#FBF38C&quot;</span>],setCanvasSize=<span class="title function_">debounce</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;canvasEl.<span class="property">width</span>=<span class="number">2</span>*<span class="variable language_">window</span>.<span class="property">innerWidth</span>,canvasEl.<span class="property">height</span>=<span class="number">2</span>*<span class="variable language_">window</span>.<span class="property">innerHeight</span>,canvasEl.<span class="property">style</span>.<span class="property">width</span>=<span class="variable language_">window</span>.<span class="property">innerWidth</span>+<span class="string">&quot;px&quot;</span>,canvasEl.<span class="property">style</span>.<span class="property">height</span>=<span class="variable language_">window</span>.<span class="property">innerHeight</span>+<span class="string">&quot;px&quot;</span>,canvasEl.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>).<span class="title function_">scale</span>(<span class="number">2</span>,<span class="number">2</span>)&#125;,<span class="number">500</span>),render=<span class="title function_">anime</span>(&#123;<span class="attr">duration</span>:<span class="number">1</span>/<span class="number">0</span>,<span class="attr">update</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>,<span class="number">0</span>,canvasEl.<span class="property">width</span>,canvasEl.<span class="property">height</span>)&#125;&#125;);<span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(tap,<span class="keyword">function</span>(<span class="params">e</span>)&#123;<span class="string">&quot;sidebar&quot;</span>!==e.<span class="property">target</span>.<span class="property">id</span>&amp;&amp;<span class="string">&quot;toggle-sidebar&quot;</span>!==e.<span class="property">target</span>.<span class="property">id</span>&amp;&amp;<span class="string">&quot;A&quot;</span>!==e.<span class="property">target</span>.<span class="property">nodeName</span>&amp;&amp;<span class="string">&quot;IMG&quot;</span>!==e.<span class="property">target</span>.<span class="property">nodeName</span>&amp;&amp;(render.<span class="title function_">play</span>(),<span class="title function_">updateCoords</span>(e),<span class="title function_">animateParticules</span>(pointerX,pointerY))&#125;,!<span class="number">1</span>),<span class="title function_">setCanvasSize</span>(),<span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>,setCanvasSize,!<span class="number">1</span>)&#125;;</span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€ themes&#x2F;next&#x2F;layout&#x2F;_layout.swig ,åœ¨ <code>&lt;/body&gt;</code> æ ‡ç­¾ä¸Šæ–¹æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;% if theme.fireworks %&#125;</span><br><span class="line">   <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">class</span>=<span class="string">&quot;fireworks&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span> </span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//cdn.bootcss.com/animejs/2.2.0/anime.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line">   <span class="comment">&lt;!-- js è„šæœ¬çš„åœ°å€éœ€è¦æ ¹æ®å…·ä½“æƒ…å†µè¿›è¡Œè°ƒæ•´ --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/js/src/fireworks.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€ themes&#x2F;next&#x2F;_config.ymlï¼Œåœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Fireworks</span></span><br><span class="line"><span class="attr">fireworks:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>æç¤º1ï¼šå¦‚æœ src ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™éœ€è¦æ‰‹åŠ¨åˆ›å»º</p>
<p>æç¤º2ï¼šåœ¨ _layout.swig ä¸­æ·»åŠ ä»£ç æ—¶ï¼Œæ³¨æ„æ˜¯å¦éœ€è¦è°ƒæ•´ js è„šæœ¬çš„è·¯å¾„ã€‚å¦‚æœåšå®¢çš„ root åœ°å€æ˜¯ &#x2F; åˆ™æ— éœ€ä¿®æ”¹ï¼Œå¦‚è¿‡åšå®¢çš„ root åœ°å€æ˜¯ &#x2F;blog&#x2F;ï¼Œåˆ™ js è„šæœ¬çš„åœ°å€å‰é¢å°±éœ€è¦åŠ ä¸Š &#x2F;blog </p>
</blockquote>
<h2 id="09-å–æ¶ˆç›®å½•ä¸­æ ‡é¢˜è‡ªåŠ¨ç¼–å·"><a href="#09-å–æ¶ˆç›®å½•ä¸­æ ‡é¢˜è‡ªåŠ¨ç¼–å·" class="headerlink" title="09.å–æ¶ˆç›®å½•ä¸­æ ‡é¢˜è‡ªåŠ¨ç¼–å·"></a>09.å–æ¶ˆç›®å½•ä¸­æ ‡é¢˜è‡ªåŠ¨ç¼–å·</h2><p>æ‰“å¼€ themes&#x2F;next&#x2F;_config.ymlï¼Œå…·ä½“é…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">number:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">wrap:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">expand_all:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">max_depth:</span> <span class="number">6</span></span><br></pre></td></tr></table></figure>

<h2 id="10-éšè—é¡µé¢åº•éƒ¨æ–‡å­—"><a href="#10-éšè—é¡µé¢åº•éƒ¨æ–‡å­—" class="headerlink" title="10.éšè—é¡µé¢åº•éƒ¨æ–‡å­—"></a>10.éšè—é¡µé¢åº•éƒ¨æ–‡å­—</h2><p>æ‰“å¼€ themes&#x2F;next&#x2F;_config.ymlï¼Œå…·ä½“é…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Powered by Hexo &amp; NexT</span></span><br><span class="line"><span class="attr">powered:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€ <code>themes/next/layout/_partials/footer.swig</code>ï¼Œæ³¨é‡Šæ‰å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">&lt;div class=&quot;copyright&quot;&gt;</span></span><br><span class="line"><span class="comment">  ......</span></span><br><span class="line"><span class="comment">&lt;/div&gt;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="11-è®¾ç½®åšå®¢é¡µé¢é€æ˜åº¦"><a href="#11-è®¾ç½®åšå®¢é¡µé¢é€æ˜åº¦" class="headerlink" title="11.è®¾ç½®åšå®¢é¡µé¢é€æ˜åº¦"></a>11.è®¾ç½®åšå®¢é¡µé¢é€æ˜åº¦</h2><p>æ‰“å¼€ themes\next\source\css\_schemes\Pisces\_layout.styl</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.header-inner</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.3</span>);</span><br><span class="line">  ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€ themes\next\source\css\_schemes\Gemini\index.styl</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.content-wrap</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.3</span>);</span><br><span class="line">  ......</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.post-block</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.3</span>);</span><br><span class="line">  ......</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comments</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.3</span>);</span><br><span class="line">  ......</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pagination</span> &#123;</span><br><span class="line">  ......</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.3</span>);</span><br><span class="line">  ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€ themes\next\source\css\_schemes\Pisces\_sidebar.styl</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.sidebar</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.3</span>);</span><br><span class="line">  ......</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sidebar-inner</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.3</span>);</span><br><span class="line">  ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="12-æ˜¾ç¤ºæ–‡ç« é˜…è¯»è¿›åº¦"><a href="#12-æ˜¾ç¤ºæ–‡ç« é˜…è¯»è¿›åº¦" class="headerlink" title="12.æ˜¾ç¤ºæ–‡ç« é˜…è¯»è¿›åº¦"></a>12.æ˜¾ç¤ºæ–‡ç« é˜…è¯»è¿›åº¦</h2><p>æ‰“å¼€ themes&#x2F;next&#x2F;_config.ymlï¼Œå…·ä½“é…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¼šåœ¨ back2top æŒ‰é’®ä¸Šæ˜¾ç¤ºé˜…è¯»ç™¾åˆ†æ¯”</span></span><br><span class="line"><span class="attr">back2top:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Back to top in sidebar.</span></span><br><span class="line">  <span class="attr">sidebar:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Scroll percent label in b2t button.</span></span><br><span class="line">  <span class="attr">scrollpercent:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¼šåœ¨é¡µé¢ä¸Šæ–¹æ˜¾ç¤ºä¸€ä¸ªé˜…è¯»è¿›åº¦æ¡</span></span><br><span class="line"><span class="attr">reading_progress:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Available values: top | bottom</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">top</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&quot;#37c6c0&quot;</span></span><br><span class="line">  <span class="attr">height:</span> <span class="string">3px</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>æç¤ºï¼šæ²¡å¿…è¦éƒ½å¼€å¯ï¼Œæˆ‘é€‰æ‹©åœ¨ back2top æŒ‰é’®ä¸Šæ˜¾ç¤ºé˜…è¯»ç™¾åˆ†æ¯”</p>
</blockquote>
<h2 id="13-å¯ç”¨æœ¬åœ°æœç´¢"><a href="#13-å¯ç”¨æœ¬åœ°æœç´¢" class="headerlink" title="13.å¯ç”¨æœ¬åœ°æœç´¢"></a>13.å¯ç”¨æœ¬åœ°æœç´¢</h2><p>åœ¨ <code>.github/workflows/pages.yml</code> ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼ˆéœ€è¦æ³¨æ„æ·»åŠ çš„ä½ç½®ï¼‰ï¼š</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/install-hexo-generator-searchdb.png"></p>
<p>ç¼–è¾‘åšå®¢æ ¹ç›®å½•ä¸‹çš„ _config.yml æ–‡ä»¶ï¼Œåœ¨åº•éƒ¨æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Local Searh</span></span><br><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€ themes&#x2F;next&#x2F;_config.ymlï¼Œå¯ç”¨æœ¬åœ°æœç´¢åŠŸèƒ½ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># If auto, trigger search by changing input.</span></span><br><span class="line">  <span class="comment"># If manual, trigger search by pressing enter key or search button.</span></span><br><span class="line">  <span class="attr">trigger:</span> <span class="string">auto</span></span><br><span class="line">  <span class="comment"># Show top n results per article, show all results by setting to -1</span></span><br><span class="line">  <span class="attr">top_n_per_article:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment"># Unescape html strings to the readable one.</span></span><br><span class="line">  <span class="attr">unescape:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Preload the search data when the page loads.</span></span><br><span class="line">  <span class="attr">preload:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h2 id="14-å¯ç”¨æ ‡ç­¾é¡µ"><a href="#14-å¯ç”¨æ ‡ç­¾é¡µ" class="headerlink" title="14.å¯ç”¨æ ‡ç­¾é¡µ"></a>14.å¯ç”¨æ ‡ç­¾é¡µ</h2><p>æ‰“å¼€ themes&#x2F;next&#x2F;_config.ymlï¼Œå¯ç”¨æ ‡ç­¾é¡µï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">home</span></span><br><span class="line">  <span class="comment">#about: /about/ || user</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">tags</span></span><br><span class="line">  <span class="comment">#categories: /categories/ || th</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">archive</span></span><br><span class="line">  <span class="comment">#schedule: /schedule/ || calendar</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml || sitemap</span></span><br><span class="line">  <span class="comment">#commonweal: /404/ || heartbeat</span></span><br></pre></td></tr></table></figure>

<p>åœ¨åšå®¢æ ¹ç›®å½•çš„ source æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º tags çš„æ–‡ä»¶å¤¹ï¼Œåœ¨ tags æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ª index.md æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä»£ç å—æ‰€ç¤ºï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ type çš„å€¼å¿…é¡»å†™ tagsï¼Œtitle æ˜¯æ ‡ç­¾é¡µçš„æ ‡é¢˜ï¼Œå¯ä»¥éšæ„èµ·ï¼ˆå»ºè®®ç›´æ¥åˆ æ‰ titleï¼Œæ ‡ç­¾é¡µæœ‰æ ‡é¢˜ä¸ç¾è§‚ï¼‰ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: æ ‡ç­¾ </span><br><span class="line">date: 2020-01-28 17:40:00</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>ç»™æ–‡ç« æ·»åŠ æ ‡ç­¾éå¸¸ç®€å•ï¼Œä¸éœ€è¦ç”¨æˆ·å»å°†æ ‡ç­¾é¢„å…ˆåˆ›å»ºå‡ºæ¥ï¼Œåªè¦åœ¨æ–‡ç« å¼€å¤´çš„æè¿°å†…å®¹ä¸­æŒ‡å®šï¼Œç›¸å…³æ ‡ç­¾å°±ä¼šè‡ªåŠ¨ç”Ÿæˆã€‚å¦‚ä¸‹æ–¹ä»£ç å—æ‰€ç¤ºï¼Œè¿™é‡Œä¸ºæ–‡ç« æ‰“äº†ä¸¤ä¸ªæ ‡ç­¾ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hexo çš„ NexT ä¸»é¢˜ç¾åŒ–</span><br><span class="line">date: 2020-01-28 10:20:20</span><br><span class="line">updated: 2020-01-28 16:16:16</span><br><span class="line">tags: [hexo,github]</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>æ–‡ç« çš„æ ‡ç­¾è¿˜å¯ä»¥é€šè¿‡å¦ä¸€ç§æ–¹å¼æ¥æŒ‡å®šï¼Œå¦‚ä¸‹æ–¹ä»£ç æ‰€ç¤ºã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hexo çš„ NexT ä¸»é¢˜ç¾åŒ–</span><br><span class="line">date: 2020-01-28 10:20:20</span><br><span class="line">updated: 2020-01-28 16:16:16</span><br><span class="line">tags: </span><br><span class="line">  - hexo</span><br><span class="line">  - github</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<h2 id="15-å¯ç”¨åˆ†ç±»é¡µ"><a href="#15-å¯ç”¨åˆ†ç±»é¡µ" class="headerlink" title="15.å¯ç”¨åˆ†ç±»é¡µ"></a>15.å¯ç”¨åˆ†ç±»é¡µ</h2><p>æ‰“å¼€ themes&#x2F;next&#x2F;_config.ymlï¼Œå¯ç”¨æ ‡ç­¾é¡µï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">home</span></span><br><span class="line">  <span class="comment">#about: /about/ || user</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">tags</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">th</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">archive</span></span><br><span class="line">  <span class="comment">#schedule: /schedule/ || calendar</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml || sitemap</span></span><br><span class="line">  <span class="comment">#commonweal: /404/ || heartbeat</span></span><br></pre></td></tr></table></figure>

<p>åœ¨åšå®¢æ ¹ç›®å½•çš„ source æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º categories çš„æ–‡ä»¶å¤¹ï¼Œåœ¨ categories æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ª index.md æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä»£ç å—æ‰€ç¤ºï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ type çš„å€¼å¿…é¡»å†™ categoriesï¼Œtitle æ˜¯åˆ†ç±»é¡µçš„æ ‡é¢˜ï¼Œå¯ä»¥éšæ„èµ·ï¼ˆå»ºè®®ç›´æ¥åˆ æ‰ titleï¼Œåˆ†ç±»é¡µæœ‰æ ‡é¢˜ä¸ç¾è§‚ï¼‰ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">åˆ†ç±»</span> </span><br><span class="line"><span class="attr">date:</span> <span class="number">2020-01-28 17:40:00</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&quot;categories&quot;</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>

<p>ä¸ä¸ºæ–‡ç« æ·»åŠ æ ‡ç­¾ç±»ä¼¼ï¼Œä¸ºæ–‡ç« æ·»åŠ æ‰€å±ç±»åˆ«ä¹Ÿåªéœ€åœ¨æ–‡ç« å¼€å¤´çš„æè¿°å†…å®¹ä¸­æŒ‡å®šï¼Œç¤ºä¾‹å¦‚ä¸‹ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hexo çš„ NexT ä¸»é¢˜ç¾åŒ–</span><br><span class="line">date: 2020-01-28 10:20:20</span><br><span class="line">updated: 2020-01-28 16:16:16</span><br><span class="line">categories: </span><br><span class="line">  - å¤§æ•°æ®</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>ä¸ä¸€ç¯‡æ–‡ç« å¯ä»¥æœ‰å¤šä¸ªæ ‡ç­¾ä¸åŒï¼Œä¸€ç¯‡æ–‡ç« åªèƒ½å±äºä¸€ä¸ªç±»åˆ«ï¼Œå¦‚æœåœ¨æŒ‡å®šç±»åˆ«æ—¶ï¼ŒæŒ‡å®šäº†å¤šä¸ªåˆ†ç±»ï¼Œé‚£ä¹ˆå°±ä¼šå½¢æˆå±‚çº§å…³ç³»ï¼Œå¦‚ä¸‹æ–¹ä»£ç å—æ‰€ç¤ºï¼Œè¯¥å†™æ³•è¡¨ç¤ºæ–‡ç« æ‰€å±ç±»åˆ«ä¸º a&#x2F;bã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hexo çš„ NexT ä¸»é¢˜ç¾åŒ–</span><br><span class="line">date: 2020-01-28 10:20:20</span><br><span class="line">updated: 2020-01-28 16:16:16</span><br><span class="line">categories: </span><br><span class="line">  - a</span><br><span class="line">  - b</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<h2 id="16-è®¾ç½®ç½‘ç«™å›¾æ ‡"><a href="#16-è®¾ç½®ç½‘ç«™å›¾æ ‡" class="headerlink" title="16.è®¾ç½®ç½‘ç«™å›¾æ ‡"></a>16.è®¾ç½®ç½‘ç«™å›¾æ ‡</h2><p>å‡†å¤‡å¥½ä¸¤å¼ å›¾æ ‡ï¼Œå°ºå¯¸ä¸º 16x16 ä¸ 32x32ã€‚å°†ä¸‹è½½å¥½çš„å›¾æ ‡æ”¾åˆ° themes\next\source\images ç›®å½•ä¸­ï¼Œç„¶åæ‰“å¼€ themes&#x2F;next&#x2F;_config.ymlï¼Œè®¾ç½®ç½‘ç«™å›¾æ ‡ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">favicon:</span></span><br><span class="line">  <span class="attr">small:</span> <span class="string">/images/paw-16x16-next.png</span></span><br><span class="line">  <span class="attr">medium:</span> <span class="string">/images/paw-32x32-next.png</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ¨èï¼šå›¾æ ‡å¯ä»¥åˆ° iconfont ä¸‹è½½</p>
</blockquote>
<h2 id="17-è®¾ç½®ä»£ç é«˜äº®ä¸»é¢˜"><a href="#17-è®¾ç½®ä»£ç é«˜äº®ä¸»é¢˜" class="headerlink" title="17.è®¾ç½®ä»£ç é«˜äº®ä¸»é¢˜"></a>17.è®¾ç½®ä»£ç é«˜äº®ä¸»é¢˜</h2><p>æ‰“å¼€ themes&#x2F;next&#x2F;_config.ymlï¼Œå…·ä½“é…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">codeblock:</span></span><br><span class="line">  <span class="attr">highlight_theme:</span> <span class="string">galactic</span></span><br><span class="line">  <span class="attr">copy_button:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">show_result:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">style:</span></span><br></pre></td></tr></table></figure>

<h2 id="18-å…¬ç›Š404é¡µé¢"><a href="#18-å…¬ç›Š404é¡µé¢" class="headerlink" title="18.å…¬ç›Š404é¡µé¢"></a>18.å…¬ç›Š404é¡µé¢</h2><p>æ–°å»º 404.htmlï¼Œæ”¾åˆ°ä¸»é¢˜çš„ <code>source</code> ç›®å½•ä¸‹ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;content-type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html;charset=utf-8;&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge,chrome=1&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;robots&quot;</span> <span class="attr">content</span>=<span class="string">&quot;all&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;robots&quot;</span> <span class="attr">content</span>=<span class="string">&quot;index,follow&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://qzone.qq.com/gy/404/style/404style.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/plain&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://www.qq.com/404/search_children.js&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> <span class="attr">homePageUrl</span>=<span class="string">&quot;/blog/&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">homePageName</span>=<span class="string">&quot;å›åˆ°æˆ‘çš„ä¸»é¡µ&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://qzone.qq.com/gy/404/data.js&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://qzone.qq.com/gy/404/page.js&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="19-éšè—æ–‡ç« åº•éƒ¨-æ ‡ç­¾"><a href="#19-éšè—æ–‡ç« åº•éƒ¨-æ ‡ç­¾" class="headerlink" title="19.éšè—æ–‡ç« åº•éƒ¨#æ ‡ç­¾"></a>19.éšè—æ–‡ç« åº•éƒ¨#æ ‡ç­¾</h2><p>æ‰“å¼€ themes\next\layout_macro\post.swigï¼Œæ³¨é‡Šæ‰å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">&lt;!--</span><br><span class="line">  &#123;%- if post<span class="selector-class">.tags</span> and post<span class="selector-class">.tags</span><span class="selector-class">.length</span> %&#125;</span><br><span class="line">    &#123;%- if theme<span class="selector-class">.tag_icon</span> %&#125;</span><br><span class="line">      &#123;%- set tag_indicate = &#x27;&lt;<span class="selector-tag">i</span> class=&quot;fa fa-tag&quot;&gt;&lt;/<span class="selector-tag">i</span>&gt;&#x27; %&#125;</span><br><span class="line">    &#123;% else %&#125;</span><br><span class="line">      &#123;%- set tag_indicate = &#x27;#&#x27; %&#125;</span><br><span class="line">    &#123;%- endif %&#125;</span><br><span class="line">    &lt;<span class="selector-tag">div</span> class=&quot;post-tags&quot;&gt;</span><br><span class="line">      &#123;%- for tag in post<span class="selector-class">.tags</span><span class="selector-class">.toArray</span>() %&#125;</span><br><span class="line">        &lt;<span class="selector-tag">a</span> href=&quot;&#123;&#123; url_for(tag<span class="selector-class">.path</span>) &#125;&#125;&quot; rel=&quot;tag&quot;&gt;&#123;&#123; tag_indicate &#125;&#125; &#123;&#123; tag<span class="selector-class">.name</span> &#125;&#125;&lt;/<span class="selector-tag">a</span>&gt;</span><br><span class="line">      &#123;%- endfor %&#125;</span><br><span class="line">    &lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">  &#123;%- endif %&#125;</span><br><span class="line">--&gt;</span><br></pre></td></tr></table></figure>

<h2 id="20-å»é™¤é¡¶éƒ¨é»‘çº¿"><a href="#20-å»é™¤é¡¶éƒ¨é»‘çº¿" class="headerlink" title="20.å»é™¤é¡¶éƒ¨é»‘çº¿"></a>20.å»é™¤é¡¶éƒ¨é»‘çº¿</h2><p>æ‰“å¼€ <code>themes/next/layout/_layout.swig</code>ï¼Œæ³¨é‡Šæ‰å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">&lt;div class=&quot;headband&quot;&gt;&lt;/div&gt; </span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="21-å¯ç”¨å…³äºé¡µ"><a href="#21-å¯ç”¨å…³äºé¡µ" class="headerlink" title="21.å¯ç”¨å…³äºé¡µ"></a>21.å¯ç”¨å…³äºé¡µ</h2><p>æ‰“å¼€ <code>themes/next/_config.yml</code>ï¼Œå¯ç”¨å…³äºé¡µï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">home</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">user</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">tags</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">th</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">archive</span></span><br><span class="line">  <span class="comment">#schedule: /schedule/ || calendar</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml || sitemap</span></span><br><span class="line">  <span class="comment">#commonweal: /404/ || heartbeat</span></span><br></pre></td></tr></table></figure>

<p>åœ¨åšå®¢æ ¹ç›®å½•çš„ source æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º about çš„æ–‡ä»¶å¤¹ï¼Œåœ¨ about æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ª index.md æ–‡ä»¶ï¼Œæ–‡ä»¶å¤´å¦‚ä»£ç å—æ‰€ç¤ºï¼Œå…¶ä¸­ title æ˜¯å…³äºé¡µçš„æ ‡é¢˜ï¼Œå¯ä»¥éšæ„èµ·ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">å…³äº</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2022-06-07 14:48:56</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>

<h2 id="22-è®¾ç½®çœ‹æ¿å¨˜"><a href="#22-è®¾ç½®çœ‹æ¿å¨˜" class="headerlink" title="22.è®¾ç½®çœ‹æ¿å¨˜"></a>22.è®¾ç½®çœ‹æ¿å¨˜</h2><p>é¦–å…ˆï¼Œæ‹‰å– <code>live2d-widget</code> é¡¹ç›®åˆ° <code>themes/next/source</code> ç›®å½•ä¸‹ï¼ˆè®°å¾—åˆ é™¤ <code>.git</code> æ–‡ä»¶å¤¹ï¼‰ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/stevenjoezhang/live2d-widget.git source/live2d-widget</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œæ‰“å¼€<code>live2d-widget</code> é¡¹ç›®ä¸­çš„ <code>autoload.js</code> æ–‡ä»¶ï¼Œä¿®æ”¹æŒ‡å®šä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¿®æ”¹å‰</span></span><br><span class="line"><span class="keyword">const</span> live2d_path = <span class="string">&quot;https://fastly.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿®æ”¹å</span></span><br><span class="line"><span class="keyword">const</span> live2d_path = <span class="string">&quot;/live2d-widget/&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>æ¥ç€ï¼Œæ‰“å¼€ <code>themes/next/layout/_layout.swig</code> æ–‡ä»¶ï¼Œ åœ¨ <code>&lt;/body&gt;</code> æ ‡ç­¾ä¸Šæ–¹æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/live2d-widget/autoload.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œæ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>themes/next/_config.yml</code> ï¼Œåœ¨å…¶ä¸­æœ«å°¾æ·»åŠ ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">live2d:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h2 id="23-è®¾ç½®æ ‡ç­¾äº‘"><a href="#23-è®¾ç½®æ ‡ç­¾äº‘" class="headerlink" title="23.è®¾ç½®æ ‡ç­¾äº‘"></a>23.è®¾ç½®æ ‡ç­¾äº‘</h2><p>åœ¨ <code>.github/workflows/pages.yml</code> ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼ˆéœ€è¦æ³¨æ„æ·»åŠ çš„ä½ç½®ï¼‰ï¼š</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/install-hexo-tag-cloud.png"></p>
<p>æ‰“å¼€ <code>next/layout/_macro/sidebar.swig</code>ï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;% if site.tags.length &gt; 1 %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123; url_for(&#x27;/js/tagcloud.js&#x27;) &#125;&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123; url_for(&#x27;/js/tagcanvas.js&#x27;) &#125;&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;widget-wrap&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ˜¾ç¤ºæ ‡é¢˜ä¸ç¾è§‚ï¼Œæ‰€ä»¥ç»™æ³¨é‡Šæ‰ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;h3 class=&quot;widget-title&quot;&gt;Tag Cloud&lt;/h3&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;myCanvasContainer&quot;</span> <span class="attr">class</span>=<span class="string">&quot;widget tagcloud&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">width</span>=<span class="string">&quot;250&quot;</span> <span class="attr">height</span>=<span class="string">&quot;250&quot;</span> <span class="attr">id</span>=<span class="string">&quot;resCanvas&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:100%&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123; list_tags() &#125;&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ ä½ç½®å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/hexo-tag-cloud-in-sidebar-swig.png"></p>
<p>æ‰“å¼€åšå®¢æ ¹ç›®å½•ä¸‹çš„ <code>_config.yml</code> æ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹è®¾ç½®ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># hexo-tag-cloud</span></span><br><span class="line"><span class="attr">tag_cloud:</span></span><br><span class="line">    <span class="attr">textFont:</span> <span class="string">&#x27;Trebuchet MS, Helvetica&#x27;</span></span><br><span class="line">    <span class="attr">textColor:</span> <span class="string">&#x27;#333&#x27;</span></span><br><span class="line">    <span class="attr">textHeight:</span> <span class="number">25</span></span><br><span class="line">    <span class="attr">outlineColor:</span> <span class="string">&#x27;#E2E1D1&#x27;</span></span><br><span class="line">    <span class="attr">maxSpeed:</span> <span class="number">0.1</span> <span class="comment"># range from [0.01 ~ 1]</span></span><br><span class="line">    <span class="attr">pauseOnSelected:</span> <span class="literal">false</span> <span class="comment"># true means pause the cloud tag movement when highlight a tag</span></span><br></pre></td></tr></table></figure>

<h2 id="24-å‚è€ƒèµ„æº"><a href="#24-å‚è€ƒèµ„æº" class="headerlink" title="24.å‚è€ƒèµ„æº"></a>24.å‚è€ƒèµ„æº</h2><ul>
<li><a href="https://theme-next.org/">ä¸»é¢˜å®˜ç½‘-æ–°</a></li>
<li><a href="http://theme-next.iissnan.com/">ä¸»é¢˜å®˜ç½‘-æ—§</a></li>
<li><a href="https://www.bilibili.com/video/av17653359">ä½¿ç”¨Hexoåšå®¢æ­å»ºçš„ä¸ªäººåšå®¢ï¼Œä½¿ç”¨Nextä¸»é¢˜æ¥è¿›è¡Œä¼˜åŒ–æ”¹é€ </a></li>
<li><a href="https://www.jianshu.com/p/9f0e90cc32c2">Hexo-NexTé…ç½®è¶…ç‚«ç½‘é¡µæ•ˆæœ</a></li>
<li><a href="https://blog.csdn.net/lcyaiym/article/details/76768762?spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~default-1-76768762-blog-61414438.pc_relevant_default&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~default-1-76768762-blog-61414438.pc_relevant_default&utm_relevant_index=1">hexoçš„nextåˆ›å»ºå…³äºæˆ‘</a></li>
<li><a href="https://blog.51cto.com/u_13640625/3032364">Nextä¸»é¢˜ä¸­æ·»åŠ è¶…çº§å¥½ç©çš„çœ‹æ¿å¨˜ï¼ˆCDNæ–¹å¼ï¼‰</a></li>
<li><a href="https://www.ngui.cc/51cto/show-540008.html">Hexoåšå®¢+Nextä¸»é¢˜æ·±åº¦ä¼˜åŒ–ä¸å®šåˆ¶</a></li>
<li><a href="https://github.com/stevenjoezhang/live2d-widget">stevenjoezhang&#x2F;live2d-widget: æŠŠèŒèŒå“’çš„çœ‹æ¿å¨˜æŠ±å›å®¶ (ãƒâ‰§âˆ‡â‰¦)ãƒ</a></li>
<li><a href="https://cloud.tencent.com/developer/article/1934183">Hexoåšå®¢å»ºç«‹æ ‡ç­¾äº‘åŠæ•ˆæœå±•ç¤º</a></li>
<li><a href="https://github.com/D0n9X1n/hexo-tag-cloud">D0n9X1n&#x2F;hexo-tag-cloud: Yet, just another tag cloud plugin for hexo</a></li>
</ul>
]]></content>
      <categories>
        <category>tool</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Jupyter Lab çš„å®‰è£…ä¸é…ç½®</title>
    <url>/2021/03/08/tool/Jupyter%20Lab%20%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-å®‰è£…-jupyterlab"><a href="#01-å®‰è£…-jupyterlab" class="headerlink" title="01.å®‰è£… jupyterlab"></a>01.å®‰è£… jupyterlab</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip install jupyterlab</span><br></pre></td></tr></table></figure>

<h2 id="02-ç”Ÿæˆé…ç½®æ–‡ä»¶"><a href="#02-ç”Ÿæˆé…ç½®æ–‡ä»¶" class="headerlink" title="02.ç”Ÿæˆé…ç½®æ–‡ä»¶"></a>02.ç”Ÿæˆé…ç½®æ–‡ä»¶</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">jupyter lab --generate-config</span><br></pre></td></tr></table></figure>

<h2 id="03-ç”Ÿæˆç™»å½•å¯†ç "><a href="#03-ç”Ÿæˆç™»å½•å¯†ç " class="headerlink" title="03.ç”Ÿæˆç™»å½•å¯†ç "></a>03.ç”Ÿæˆç™»å½•å¯†ç </h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt; ipython</span></span><br><span class="line">Python 3.7.10 (default, Feb 26 2021, 18:47:35)</span><br><span class="line">Type &#x27;copyright&#x27;, &#x27;credits&#x27; or &#x27;license&#x27; for more information</span><br><span class="line">IPython 7.22.0 -- An enhanced Interactive Python. Type &#x27;?&#x27; for help.</span><br><span class="line"></span><br><span class="line">In [1]: from notebook.auth import passwd</span><br><span class="line"></span><br><span class="line">In [2]: passwd()</span><br><span class="line">Enter password:</span><br><span class="line">Verify password:</span><br><span class="line">Out[2]: &#x27;argon2:$argon2id$v=19$m=10240,t=10,p=8$c/W2UuRTJI1k4o40ygdcSA$/GAGaIdbluH45S2LWbrMOA&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="04-ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#04-ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="04.ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>04.ä¿®æ”¹é…ç½®æ–‡ä»¶</h2><p>æ‰“å¼€é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vim ~/.jupyter/jupyter_lab_config.py</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹å¦‚ä¸‹é…ç½®ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">c.ServerApp.root_dir = &#x27;/opt/notebook&#x27;</span><br><span class="line">c.ServerApp.allow_root = True</span><br><span class="line">c.ServerApp.ip = &#x27;*&#x27;</span><br><span class="line">c.ServerApp.open_browser = False</span><br><span class="line">c.ServerApp.password_required = True</span><br><span class="line">c.ServerApp.password = &#x27;argon2:$argon2id$v=19$m=10240,t=10,p=8$c/W2UuRTJI1k4o40ygdcSA$/GAGaIdbluH45S2LWbrMOA&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="05-å¯åŠ¨-jupyterlab"><a href="#05-å¯åŠ¨-jupyterlab" class="headerlink" title="05.å¯åŠ¨ jupyterlab"></a>05.å¯åŠ¨ jupyterlab</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">jupyter lab</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>tool</category>
      </categories>
      <tags>
        <tag>jupyter</tag>
      </tags>
  </entry>
  <entry>
    <title>Jupyter Notebook çš„å®‰è£…ä¸é…ç½®</title>
    <url>/2020/09/19/tool/Jupyter%20Notebook%20%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-å®‰è£…-jupyter-notebook"><a href="#01-å®‰è£…-jupyter-notebook" class="headerlink" title="01.å®‰è£… jupyter notebook"></a>01.å®‰è£… jupyter notebook</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip install jupyter</span><br></pre></td></tr></table></figure>

<h2 id="02-ç”Ÿæˆé…ç½®æ–‡ä»¶"><a href="#02-ç”Ÿæˆé…ç½®æ–‡ä»¶" class="headerlink" title="02.ç”Ÿæˆé…ç½®æ–‡ä»¶"></a>02.ç”Ÿæˆé…ç½®æ–‡ä»¶</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">jupyter notebook --generate-config</span><br></pre></td></tr></table></figure>

<h2 id="03-ç”Ÿæˆç™»å½•å¯†ç "><a href="#03-ç”Ÿæˆç™»å½•å¯†ç " class="headerlink" title="03.ç”Ÿæˆç™»å½•å¯†ç "></a>03.ç”Ÿæˆç™»å½•å¯†ç </h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt; ipython</span></span><br><span class="line">Python 3.7.9 (default, Aug 31 2020, 07:22:35)</span><br><span class="line">Type &#x27;copyright&#x27;, &#x27;credits&#x27; or &#x27;license&#x27; for more information</span><br><span class="line">IPython 7.19.0 -- An enhanced Interactive Python. Type &#x27;?&#x27; for help.</span><br><span class="line"></span><br><span class="line">In [1]: from notebook.auth import passwd</span><br><span class="line"></span><br><span class="line">In [2]: passwd()</span><br><span class="line">Enter password:</span><br><span class="line">Verify password:</span><br><span class="line">Out[2]: &#x27;argon2:$argon2id$v=19$m=10240,t=10,p=8$4sWk2oPuIpqDtIw4MYb/9g$iTpy4dhz3to+3AlyBD7Btw&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="04-ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#04-ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="04.ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>04.ä¿®æ”¹é…ç½®æ–‡ä»¶</h2><p>æ‰“å¼€é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vim ~/.jupyter/jupyter_notebook_config.py</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹å¦‚ä¸‹é…ç½®ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è®¾ç½® Jupyter ç›‘å¬çš„ ip åœ°å€ï¼Œä¿®æ”¹ä¸º * è¡¨ç¤ºç›‘å¬æ‰€æœ‰ ip åœ°å€</span></span><br><span class="line">c.NotebookApp.ip = &#x27;*&#x27;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è®¾ç½®å¯†ç </span></span><br><span class="line">c.NotebookApp.password = u&#x27;argon2:$argon2id$v=19$m=10240,t=10,p=8$4sWk2oPuIpqDtIw4MYb/9g$iTpy4dhz3to+3AlyBD7Btw&#x27; </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç¦æ­¢å¯åŠ¨æ—¶è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span></span><br><span class="line">c.NotebookApp.open_browser = False</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŒ‡å®šç«¯å£ï¼Œé»˜è®¤æ˜¯8888</span></span><br><span class="line">c.NotebookApp.port = 8888</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è®¾ç½® notebook æ–‡ä»¶çš„ç›®å½•ï¼ˆè¦åœ¨å¯åŠ¨å‰åˆ›å»ºå‡ºæ¥ï¼‰</span></span><br><span class="line">c.NotebookApp.notebook_dir = &#x27;/Users/leo/Documents/notebook&#x27;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å…è®¸ root ç”¨æˆ·è¿è¡Œ</span></span><br><span class="line">c.NotebookApp.allow_root = True</span><br></pre></td></tr></table></figure>

<h2 id="05-å¯åŠ¨-juypter"><a href="#05-å¯åŠ¨-juypter" class="headerlink" title="05.å¯åŠ¨ juypter"></a>05.å¯åŠ¨ juypter</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">jupyter notebook</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>tool</category>
      </categories>
      <tags>
        <tag>jupyter</tag>
      </tags>
  </entry>
  <entry>
    <title>Mac å®‰è£… PicGo</title>
    <url>/2019/01/15/tool/Mac%20%E5%AE%89%E8%A3%85%20PicGo/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-å®‰è£…æ­¥éª¤"><a href="#01-å®‰è£…æ­¥éª¤" class="headerlink" title="01.å®‰è£…æ­¥éª¤"></a>01.å®‰è£…æ­¥éª¤</h2><p>ä¸‹è½½ <a href="https://github.com/Molunerfinn/PicGo/releases">PicoGo</a> çš„ dmg åŒ…ï¼Œç‚¹å‡»å®‰è£…ã€‚å®Œæˆåï¼Œæ‰“å¼€ PicGo æ—¶å¯èƒ½ä¼šé‡åˆ° <code>æ— æ³•æ‰“å¼€ PicGoï¼Œå› ä¸ºå®ƒæ¥è‡ªèº«ä»½ä¸æ˜çš„å¼€å‘è€…</code> é—®é¢˜ã€‚è§£å†³åŠæ³•å¦‚ä¸‹ï¼š</p>
<ol>
<li>åœ¨ç»ˆç«¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ <code>sudo spctl --master-disable</code>ï¼›</li>
<li>æ‰“å¼€ <code>ç³»ç»Ÿåå¥½è®¾ç½® -&gt; å®‰å…¨æ€§ä¸éšç§ â€“&gt; é€šç”¨</code>ï¼Œ<em>å…è®¸ä»ä»¥ä¸‹ä½ç½®ä¸‹è½½çš„ App</em> é€‰æ‹© <code>ä»»ä½•æ¥æº</code>ï¼›</li>
</ol>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/solve_problem_encountered_during_picgo_installation_on_mac.png"></p>
<h2 id="02-å‚è€ƒèµ„æ–™"><a href="#02-å‚è€ƒèµ„æ–™" class="headerlink" title="02.å‚è€ƒèµ„æ–™"></a>02.å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://c4dsky.com/26380.html">è§£å†³ MacOS å› ä¸ºå®ƒæ¥è‡ªèº«ä»½ä¸æ˜çš„å¼€å‘è€…,ä¸æ˜¾ç¤ºå…è®¸ä»»ä½•æ¥æº â€“å®‰è£…æ–‡ä»¶ä¸‹è½½æŸåé—®é¢˜</a>ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>tool</category>
      </categories>
      <tags>
        <tag>picgo</tag>
      </tags>
  </entry>
  <entry>
    <title>Maven å¸¸ç”¨é…ç½®åŠæ“ä½œ</title>
    <url>/2016/03/31/tool/Maven%20%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE%E5%8F%8A%E6%93%8D%E4%BD%9C/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-Maven-è®¾ç½®é˜¿é‡Œäº‘é•œåƒ"><a href="#01-Maven-è®¾ç½®é˜¿é‡Œäº‘é•œåƒ" class="headerlink" title="01.Maven è®¾ç½®é˜¿é‡Œäº‘é•œåƒ"></a>01.Maven è®¾ç½®é˜¿é‡Œäº‘é•œåƒ</h2><p>ä¿®æ”¹ <code>$MAVEN_HOME/conf/settings.xml</code> æ–‡ä»¶ä¸­çš„ mirrors æ ‡ç­¾ï¼Œé…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">id</span>&gt;</span>nexus-aliyun<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">name</span>&gt;</span>Nexus aliyun<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span>        </span><br><span class="line">	<span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="02-Maven-é…ç½®æœ¬åœ°ä»“åº“è·¯å¾„"><a href="#02-Maven-é…ç½®æœ¬åœ°ä»“åº“è·¯å¾„" class="headerlink" title="02.Maven é…ç½®æœ¬åœ°ä»“åº“è·¯å¾„"></a>02.Maven é…ç½®æœ¬åœ°ä»“åº“è·¯å¾„</h2><p>æ‰¾åˆ° <code>$MAVEN_HOME/conf/settings.xml</code> æ–‡ä»¶ä¸­çš„ <code>localRepository</code> æ ‡ç­¾ï¼Œå°†æ³¨é‡Šæ‰“å¼€ï¼Œå¹¶é…ç½®æœ¬åœ°ä»“åº“è·¯å¾„ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>D:\repository<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="03-Maven-ç¼–è¯‘æ—¶è·³è¿‡-test"><a href="#03-Maven-ç¼–è¯‘æ—¶è·³è¿‡-test" class="headerlink" title="03.Maven ç¼–è¯‘æ—¶è·³è¿‡ test"></a>03.Maven ç¼–è¯‘æ—¶è·³è¿‡ test</h2><p>è·³è¿‡ test çš„æ‰§è¡Œï¼Œä½†ä¼šç¼–è¯‘ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mvn clean install -DskipTests</span><br></pre></td></tr></table></figure>

<p>è·³è¿‡ test ç¼–è¯‘ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mvn clean install -Dmaven.test.skip=true</span><br></pre></td></tr></table></figure>

<h2 id="04-Maven-æ–­ç‚¹ç»­ç¼–"><a href="#04-Maven-æ–­ç‚¹ç»­ç¼–" class="headerlink" title="04.Maven æ–­ç‚¹ç»­ç¼–"></a>04.Maven æ–­ç‚¹ç»­ç¼–</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mvn &lt;goals&gt; -rf :&lt;moduleName&gt;</span><br></pre></td></tr></table></figure>

<h2 id="05-Maven-ç¦»çº¿å®‰è£…ä¾èµ–"><a href="#05-Maven-ç¦»çº¿å®‰è£…ä¾èµ–" class="headerlink" title="05.Maven ç¦»çº¿å®‰è£…ä¾èµ–"></a>05.Maven ç¦»çº¿å®‰è£…ä¾èµ–</h2><p>åœ¨ shell ä¸­æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥ç¦»çº¿å®‰è£…ä¾èµ–åŒ…ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mvn install:install-file -DgroupId=io.confluent -DartifactId=kafka-schema-registry-client -Dversion=3.3.1 -Dpackaging=jar -Dfile=C:\Users\Leo\Downloads\kafka-schema-registry-client-3.3.1.jar</span><br></pre></td></tr></table></figure>

<p>å¦‚æœéœ€è¦æŒ‡å®š classifierï¼Œå¯æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼ˆéœ€è¦æ³¨æ„ classifier çš„ä½ç½®ï¼ŒåŸå› å¯å‚è€ƒã€Š<a href="https://www.cnblogs.com/lnlvinso/p/10111328.html">Mavençš„classifierä½œç”¨</a>ã€‹ï¼‰ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mvn install:install-file -DgroupId=org.apache.flink -DartifactId=flink-table-planner-blink_2.11 -Dversion=1.12-SNAPSHOT -Dclassifier=tests -Dpackaging=jar -Dfile=C:\Users\zhouli16\Downloads\flink-table-planner-blink_2.11-1.12-20200706.040013-54-tests.jar</span><br></pre></td></tr></table></figure>

<blockquote>
<p>é—®é¢˜ï¼šåœ¨ powershell ä¸­æ‰§è¡Œä¼šå¤±è´¥</p>
<p>è§£å†³ï¼šä½¿ç”¨ CMD æ¥æ‰§è¡Œï¼Œæˆ–è€…ç»™å‚æ•°åŠ ä¸Šå¼•å·ï¼Œå¦‚ <code>-DgroupId=io.confluent</code> ä¿®æ”¹ä¸º <code>-D&quot;groupId=io.confluent&quot;</code></p>
</blockquote>
<blockquote>
<p>é—®é¢˜ï¼šé€šè¿‡ç¦»çº¿æ–¹å¼å®‰è£…ä¾èµ–åŒ…æ—¶ï¼Œmaven-shade-plugin æ— æ³•å°†ä¾èµ–çš„ä¾èµ–ä¸€èµ·æ‰“å…¥ jar åŒ…</p>
<p>è§£å†³ï¼šæ‰§è¡Œ <code>install:install-file</code> æ—¶ï¼Œä½¿ç”¨ <code>-DpomFile=xxx</code> æ¥æŒ‡å®šä¾èµ–çš„ pom æ–‡ä»¶</p>
</blockquote>
]]></content>
      <categories>
        <category>tool</category>
      </categories>
      <tags>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQL å¸¸ç”¨é…ç½®æ€»ç»“</title>
    <url>/2016/04/07/tool/MySQL%20%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-è§£é™¤-MySQL-å¯¹ç®€å•å¯†ç çš„é™åˆ¶"><a href="#01-è§£é™¤-MySQL-å¯¹ç®€å•å¯†ç çš„é™åˆ¶" class="headerlink" title="01.è§£é™¤ MySQL å¯¹ç®€å•å¯†ç çš„é™åˆ¶"></a>01.è§£é™¤ MySQL å¯¹ç®€å•å¯†ç çš„é™åˆ¶</h2><p>åœ¨ <code>/etc/my.cnf</code> çš„ <i><font color=red>[mysqld]</font></i> æ ‡ç­¾ä¸‹æ·»åŠ å¦‚ä¸‹é…ç½®ï¼Œç„¶åé‡å¯ MySQL æœåŠ¡å³å¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">plugin-load=validate_password.so </span><br><span class="line">validate-password=OFF</span><br></pre></td></tr></table></figure>

<h2 id="02-MySQL-5-7-å¼€å¯-binlog"><a href="#02-MySQL-5-7-å¼€å¯-binlog" class="headerlink" title="02.MySQL 5.7 å¼€å¯ binlog"></a>02.MySQL 5.7 å¼€å¯ binlog</h2><p>åœ¨ <code>/etc/my.cnf</code> çš„ <i><font color=red>[mysqld]</font></i> æ ‡ç­¾ä¸‹æ·»åŠ å¦‚ä¸‹é…ç½®ï¼Œç„¶åé‡å¯ MySQL æœåŠ¡å³å¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">server_id=1			# é…ç½® MySQL Replication æ—¶éœ€è¦å®šä¹‰</span><br><span class="line">log_bin=mysql-bin	# å¼€å¯ binlog</span><br><span class="line">binlog_format=ROW 	# é€‰æ‹© ROW æ¨¡å¼</span><br><span class="line">expire_logs_days=30	# è¿‡æœŸæ—¶é—´</span><br></pre></td></tr></table></figure>

<h2 id="03-å‚è€ƒèµ„æ–™"><a href="#03-å‚è€ƒèµ„æ–™" class="headerlink" title="03.å‚è€ƒèµ„æ–™"></a>03.å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://www.cnblogs.com/zhylioooo/p/11084489.html">yum å®‰è£…æŒ‡å®šç‰ˆæœ¬ MySQL</a></li>
</ul>
]]></content>
      <categories>
        <category>tool</category>
      </categories>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>QTTabBar å®‰è£…ä½¿ç”¨</title>
    <url>/2021/07/01/tool/QTTabBar%20%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="å‰ç½®æ¡ä»¶"><a href="#å‰ç½®æ¡ä»¶" class="headerlink" title="å‰ç½®æ¡ä»¶"></a>å‰ç½®æ¡ä»¶</h2><p>éœ€è¦å®‰è£… .net3.5ï¼Œwin10 å®‰è£… .net3.5 çš„æ–¹æ³•å¯å‚è€ƒ <a href="https://jingyan.baidu.com/article/455a9950dbe21de167277823.html">è§£å†³win10ç³»ç»Ÿæ— æ³•å®‰è£….NET Framework 3.5</a>ã€‚</p>
<h2 id="ä¸‹è½½å®‰è£…"><a href="#ä¸‹è½½å®‰è£…" class="headerlink" title="ä¸‹è½½å®‰è£…"></a>ä¸‹è½½å®‰è£…</h2><p>å›½å†…å¼€å‘è€…åœ¨ Github ä¸Šç»´æŠ¤äº†ä¸€ä¸ª <a href="https://github.com/indiff/qttabbar">QTTabBar</a> çš„æ±‰åŒ–ç‰ˆæœ¬ï¼Œä¸‹è½½å®‰è£…å³å¯ï¼Œå®‰è£…è¿‡ç¨‹æ¯”è¾ƒæ…¢ï¼Œè€å¿ƒç­‰å¾…å³å¯ã€‚</p>
<h2 id="ç›¸å…³é…ç½®"><a href="#ç›¸å…³é…ç½®" class="headerlink" title="ç›¸å…³é…ç½®"></a>ç›¸å…³é…ç½®</h2><p>QTTabBar å¯ç”¨åï¼Œèµ„æºç®¡ç†å™¨é‡Œé¢æœ‰ä¸€äº›ç½‘æ ¼çº¿ï¼Œçœ‹ç€ä¸èˆ’æœï¼Œå»æ‰è¿™äº›ç½‘æ ¼çº¿çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/remove_grid_lines_caused_by_qttabbar.png"></p>
<p>åœ¨æ ‡ç­¾æ æœ‰ä¸€ä¸ªè“è‰²çš„åŠ å·æŒ‰é’®ï¼Œçœ‹ç€ä¹Ÿä¸ä¹ æƒ¯ï¼Œå»æ‰çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/remove_blue_button_on_tab_bar.png"></p>
<h2 id="å…¶ä»–é—®é¢˜"><a href="#å…¶ä»–é—®é¢˜" class="headerlink" title="å…¶ä»–é—®é¢˜"></a>å…¶ä»–é—®é¢˜</h2><p>æ²¡æœ‰å®‰è£… .net3.5 çš„æœºå™¨å®‰è£… QTTabBar åï¼Œåœ¨å¯ç”¨æ—¶ä¼šé—ªé€€ã€‚æ­¤æ—¶ï¼Œå¹¶ä¸æ˜¯è¯´æŠŠ .net3.5 è£…ä¸Šï¼ŒQTTabBar å°±èƒ½ç”¨äº†ï¼Œéœ€è¦å…ˆå¸è½½ QTTabBar å¹¶åˆ é™¤ä¸€äº›æ³¨å†Œä¿¡æ¯ï¼Œç„¶åå†é‡æ–°å®‰è£… QTTabBarï¼Œå…·ä½“çš„æ“ä½œå¯å‚è€ƒ <a href="https://gitee.com/qwop/qttabbar/attach_files/581136/download">æ‰“å¼€é€‰é¡¹é—ªé€€çš„è§£å†³æ–¹æ¡ˆä¿®è®¢ç‰ˆ</a>ã€‚</p>
]]></content>
      <categories>
        <category>tool</category>
      </categories>
      <tags>
        <tag>qttabar</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 è®¾ç½®å›½å†…é•œåƒæº</title>
    <url>/2021/07/01/tool/Ubuntu%2020.04%20%E8%AE%BE%E7%BD%AE%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%E6%BA%90/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-è·å–é…ç½®"><a href="#01-è·å–é…ç½®" class="headerlink" title="01.è·å–é…ç½®"></a>01.è·å–é…ç½®</h2><p>ç‚¹å‡» <a href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/">Ubuntu é•œåƒä½¿ç”¨å¸®åŠ©</a> ï¼Œé€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬ï¼Œè·å–åˆ°ç›¸åº”çš„é…ç½®ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ä¿®æ”¹ Ubuntu çš„è½¯ä»¶æºã€‚</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/ubuntu_source_supported_by_tsinghua.png"></p>
<h2 id="02-ä¿®æ”¹é…ç½®"><a href="#02-ä¿®æ”¹é…ç½®" class="headerlink" title="02.ä¿®æ”¹é…ç½®"></a>02.ä¿®æ”¹é…ç½®</h2><p>é¦–å…ˆï¼Œè¿›è¡Œå¤‡ä»½ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo cp /etc/apt/sources.list /etc/apt/sources.list.back</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œæ›¿æ¢ source.list å†…å®¹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é»˜è®¤æ³¨é‡Šäº†æºç é•œåƒä»¥æé«˜ apt update é€Ÿåº¦ï¼Œå¦‚æœ‰éœ€è¦å¯è‡ªè¡Œå–æ¶ˆæ³¨é‡Š</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é¢„å‘å¸ƒè½¯ä»¶æºï¼Œä¸å»ºè®®å¯ç”¨</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</span></span><br></pre></td></tr></table></figure>

<h2 id="03-æ›´æ–°ç´¢å¼•"><a href="#03-æ›´æ–°ç´¢å¼•" class="headerlink" title="03.æ›´æ–°ç´¢å¼•"></a>03.æ›´æ–°ç´¢å¼•</h2><p>æ›´æ–°åŒ…ç´¢å¼•ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure>

<p>è¯¥æ­¥éª¤å‡ºç°äº†å¦‚ä¸‹æ‰€ç¤ºçš„è¯ä¹¦å¼‚å¸¸ï¼š</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/apt_get_update_error.png"></p>
<p>è§£å†³åŠæ³•ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€å°†æºåœ°å€ä¸­çš„ https ä¿®æ”¹ä¸º httpã€‚æ›¿æ¢ source.list å†…å®¹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é»˜è®¤æ³¨é‡Šäº†æºç é•œåƒä»¥æé«˜ apt update é€Ÿåº¦ï¼Œå¦‚æœ‰éœ€è¦å¯è‡ªè¡Œå–æ¶ˆæ³¨é‡Š</span></span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">deb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse</span></span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">deb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span></span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">deb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span></span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">deb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é¢„å‘å¸ƒè½¯ä»¶æºï¼Œä¸å»ºè®®å¯ç”¨</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">deb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</span></span><br></pre></td></tr></table></figure>

<p>é‡æ–°æ‰§è¡Œæ›´æ–°åŒ…ç´¢å¼•å‘½ä»¤ï¼Œæ­¤æ—¶æ“ä½œé¡ºåˆ©å®Œæˆã€‚</p>
<h2 id="04-å‡çº§è½¯ä»¶"><a href="#04-å‡çº§è½¯ä»¶" class="headerlink" title="04.å‡çº§è½¯ä»¶"></a>04.å‡çº§è½¯ä»¶</h2><p>æ›´æ–°å®ŒåŒ…ç´¢å¼•åï¼Œå¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥å‡çº§è½¯ä»¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt-get upgrade</span><br></pre></td></tr></table></figure>

<h2 id="05-æµ‹è¯•éªŒè¯"><a href="#05-æµ‹è¯•éªŒè¯" class="headerlink" title="05.æµ‹è¯•éªŒè¯"></a>05.æµ‹è¯•éªŒè¯</h2><p>æœ€åï¼Œæ¥å®‰è£…ä¸€ä¸ªè½¯ä»¶ï¼Œè¿™ä¸ªè½¯ä»¶åç§°ä¸º build-essentialï¼Œå®ƒå¯ä»¥é…ç½®å¥½ Ubuntu ä¸Šçš„ C&#x2F;C++ çš„ç¼–è¯‘ç¯å¢ƒï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt install build-essential</span><br></pre></td></tr></table></figure>

<p>å®‰è£…æ“ä½œå¯æ­£å¸¸å®Œæˆï¼Œæ— å¼‚å¸¸å‘ç”Ÿã€‚</p>
]]></content>
      <categories>
        <category>tool</category>
      </categories>
      <tags>
        <tag>ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>tar å‘½ä»¤å®ç°åˆ†å·å‹ç¼©</title>
    <url>/2020/08/14/tool/tar%20%E5%91%BD%E4%BB%A4%E5%AE%9E%E7%8E%B0%E5%88%86%E5%8D%B7%E5%8E%8B%E7%BC%A9/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-å‹ç¼©"><a href="#01-å‹ç¼©" class="headerlink" title="01.å‹ç¼©"></a>01.å‹ç¼©</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">tar -czvf - jdk1.8.0_221/ | split -b 100m - jdk1.8.0_221.tar.gz</span><br></pre></td></tr></table></figure>

<h2 id="02-è§£å‹"><a href="#02-è§£å‹" class="headerlink" title="02.è§£å‹"></a>02.è§£å‹</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cat jdk1.8.0_221.tar.gza* | tar -xzv</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>tool</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>windows æ–‡æœ¬è½¬ linux æ–‡æœ¬</title>
    <url>/2015/04/07/tool/windows%20%E6%96%87%E6%9C%AC%E8%BD%AC%20linux%20%E6%96%87%E6%9C%AC/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-å®‰è£…-dos2unix"><a href="#01-å®‰è£…-dos2unix" class="headerlink" title="01.å®‰è£… dos2unix"></a>01.å®‰è£… dos2unix</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum install -y dos2unix</span><br></pre></td></tr></table></figure>

<h2 id="02-æ‰§è¡Œè½¬æ¢"><a href="#02-æ‰§è¡Œè½¬æ¢" class="headerlink" title="02.æ‰§è¡Œè½¬æ¢"></a>02.æ‰§è¡Œè½¬æ¢</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">dos2unix filename|directory</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>tool</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>yum æ–¹å¼å®‰è£… MySQL</title>
    <url>/2016/04/07/tool/yum%20%E6%96%B9%E5%BC%8F%E5%AE%89%E8%A3%85%20MySQL/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-ç¯å¢ƒè¯´æ˜"><a href="#01-ç¯å¢ƒè¯´æ˜" class="headerlink" title="01.ç¯å¢ƒè¯´æ˜"></a>01.ç¯å¢ƒè¯´æ˜</h2><ul>
<li>CentOS 7.7.1908</li>
<li>MySQL 5.7</li>
</ul>
<h2 id="02-å®‰è£…æ­¥éª¤"><a href="#02-å®‰è£…æ­¥éª¤" class="headerlink" title="02.å®‰è£…æ­¥éª¤"></a>02.å®‰è£…æ­¥éª¤</h2><p>æ£€æµ‹æ˜¯å¦è‡ªå¸¦ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rpm -qa | grep mysql</span><br></pre></td></tr></table></figure>

<p>å¸è½½è‡ªå¸¦ mysqlï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rpm -e --nodeps &lt;rpm qa|grep mysqlå‘½ä»¤æŸ¥å‡ºæ¥çš„åŒ…&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸‹è½½ mysql æºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://repo.mysql.com//mysql80-community-release-el7-3.noarch.rpm</span><br></pre></td></tr></table></figure>

<p>å®‰è£… mysql æºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rpm -ivh mysql80-community-release-el7-3.noarch.rpm</span><br></pre></td></tr></table></figure>

<p>æ›´æ–° yum æºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum update</span><br></pre></td></tr></table></figure>

<p>åˆ—å‡ºå¯ç”¨ç‰ˆæœ¬ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum repolist all | grep mysql</span><br></pre></td></tr></table></figure>

<p>ç¦ç”¨ yum æºä¸­çš„ mysql80ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum-config-manager --<span class="built_in">disable</span> mysql80-community</span><br></pre></td></tr></table></figure>

<p>å¼€å¯ yum æºä¸­çš„ mysql57ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum-config-manager --<span class="built_in">enable</span> mysql57-community</span><br></pre></td></tr></table></figure>

<p>éªŒè¯ enable çš„ mysql ç‰ˆæœ¬ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum repolist all | grep mysql</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡å¸è½½ mysqlï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rpm -e --nodeps &lt;rpm -qa|grep mysqlå‘½ä»¤æŸ¥å‡ºæ¥çš„åŒ…ï¼Œä¸è¦åˆ å¸¦æœ‰noarchçš„åŒ…&gt;</span><br></pre></td></tr></table></figure>

<p>å®‰è£… mysqlï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum install -y mysql-community-server</span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨ mysqlï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl start mysqld.service</span><br></pre></td></tr></table></figure>

<p>æ£€æŸ¥ mysql çŠ¶æ€ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl status mysqld.service</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®å¼€æœºè‡ªå¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> mysqld.service</span><br></pre></td></tr></table></figure>

<p>è·å– â€˜rootâ€˜@â€™localhostâ€™ çš„å¯†ç ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo grep <span class="string">&#x27;temporary password&#x27;</span> /var/log/mysqld.log</span><br></pre></td></tr></table></figure>

<p>è¿æ¥ mysql æœåŠ¡ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysql -uroot -p</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ root å¯†ç ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ALTER USER <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED BY <span class="string">&#x27;MyNewPass4!&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h2 id="03-å‚è€ƒèµ„æ–™"><a href="#03-å‚è€ƒèµ„æ–™" class="headerlink" title="03.å‚è€ƒèµ„æ–™"></a>03.å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://www.runoob.com/mysql/mysql-install.html">èœé¸Ÿæ•™ç¨‹</a></li>
<li><a href="https://dev.mysql.com/doc/mysql-yum-repo-quick-guide/en/">å®˜æ–¹èµ„æ–™</a></li>
<li><a href="https://www.cnblogs.com/zhylioooo/p/11084489.html">yumå®‰è£…æŒ‡å®šç‰ˆæœ¬mysql</a></li>
</ul>
]]></content>
      <categories>
        <category>tool</category>
      </categories>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸€äº›å®ç”¨çš„ç½‘ç«™å¯¼èˆª</title>
    <url>/2015/09/16/tool/%E4%B8%80%E4%BA%9B%E5%AE%9E%E7%94%A8%E7%9A%84%E7%BD%91%E7%AB%99%E5%AF%BC%E8%88%AA/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-åœ¨çº¿å·¥å…·"><a href="#01-åœ¨çº¿å·¥å…·" class="headerlink" title="01.åœ¨çº¿å·¥å…·"></a>01.åœ¨çº¿å·¥å…·</h2><ul>
<li><a href="https://mubu.com/home">å¹•å¸ƒ - æç®€å¤§çº²ç¬”è®° ï½œ ä¸€é”®ç”Ÿæˆæ€ç»´å¯¼å›¾ (mubu.com)</a></li>
</ul>
<h2 id="02-å®ç”¨ç½‘å€"><a href="#02-å®ç”¨ç½‘å€" class="headerlink" title="02.å®ç”¨ç½‘å€"></a>02.å®ç”¨ç½‘å€</h2><ul>
<li><a href="http://jdk.java.net/archive/">OpenJDK Archive</a></li>
<li><a href="https://portal.shadowsocks.nz/">Shadowsocks.com</a></li>
</ul>
]]></content>
      <categories>
        <category>tool</category>
      </categories>
      <tags>
        <tag>site</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäº Github + PicGo æ­å»ºä¸ªäººå›¾åºŠ</title>
    <url>/2022/06/06/tool/%E5%9F%BA%E4%BA%8E%20Github%20+%20PicGo%20%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-ç”Ÿæˆ-Github-ç§äººä»¤ç‰Œ"><a href="#01-ç”Ÿæˆ-Github-ç§äººä»¤ç‰Œ" class="headerlink" title="01.ç”Ÿæˆ Github ç§äººä»¤ç‰Œ"></a>01.ç”Ÿæˆ Github ç§äººä»¤ç‰Œ</h2><p>é€šè¿‡<a href="https://github.com/settings/tokens">é“¾æ¥</a>è¿›å…¥ <code>Github</code> çš„ <code>tokens</code> é¡µé¢ï¼Œç‚¹å‡»é¡µé¢å³ä¸Šæ–¹çš„ <code>Generate new token</code> æŒ‰é’®åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>token</code>ï¼Œè®°ä¸‹è¿™ä¸ª <code>token</code>ï¼Œåé¢ä¼šä½¿ç”¨åˆ°ã€‚</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/github-token.png"></p>
<h2 id="02-é…ç½®-Github-å›¾åºŠ"><a href="#02-é…ç½®-Github-å›¾åºŠ" class="headerlink" title="02.é…ç½® Github å›¾åºŠ"></a>02.é…ç½® Github å›¾åºŠ</h2><p>ä¸‹è½½å®‰è£… <a href="https://github.com/Molunerfinn/PicGo/releases">PicGo</a>ï¼Œé…ç½® Github å›¾åºŠï¼Œé…ç½®ç»†èŠ‚å¦‚ä¸‹ï¼š</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/pocgo-github.png"></p>
<h2 id="03-ä¸Šä¼ å›¾ç‰‡åˆ°-Github-å›¾åºŠ"><a href="#03-ä¸Šä¼ å›¾ç‰‡åˆ°-Github-å›¾åºŠ" class="headerlink" title="03.ä¸Šä¼ å›¾ç‰‡åˆ° Github å›¾åºŠ"></a>03.ä¸Šä¼ å›¾ç‰‡åˆ° Github å›¾åºŠ</h2><p>ä¸Šä¼ å›¾ç‰‡åï¼Œè¿”å›çš„é“¾æ¥ä¼šè‡ªåŠ¨è¿›å…¥å‰ªè´´æ¿ï¼Œå¯ç›´æ¥ç²˜è´´ä½¿ç”¨ã€‚</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/pocgo-github-1.png"></p>
]]></content>
      <categories>
        <category>tool</category>
      </categories>
      <tags>
        <tag>picgo</tag>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäº Hexo + Github Pages + Github Actions æ­å»ºä¸ªäººåšå®¢</title>
    <url>/2022/06/06/tool/%E5%9F%BA%E4%BA%8E%20Hexo%20+%20Github%20Pages%20+%20Github%20Actions%20%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-åˆå§‹åŒ–ä»“åº“"><a href="#01-åˆå§‹åŒ–ä»“åº“" class="headerlink" title="01.åˆå§‹åŒ–ä»“åº“"></a>01.åˆå§‹åŒ–ä»“åº“</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br><span class="line">hexo init zhoulii.github.io</span><br><span class="line">cd zhoulii.github.io</span><br><span class="line">git init</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;initialize zhoulii.github.io&quot;</span><br><span class="line">git remote add origin https://github.com/zhoulii/zhoulii.github.io.git</span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure>

<h2 id="02-é…ç½®-Github-Actions"><a href="#02-é…ç½®-Github-Actions" class="headerlink" title="02.é…ç½® Github Actions"></a>02.é…ç½® Github Actions</h2><p>åœ¨ä»“åº“ä¸­åˆ›å»º <code>.github/workflows/pages.yml</code>ï¼Œå…·ä½“å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">name: deploy zhoulii.github.io  </span><br><span class="line">  </span><br><span class="line">on:  </span><br><span class="line">  push:  </span><br><span class="line">    branches:  </span><br><span class="line">      - master</span><br><span class="line">  </span><br><span class="line">jobs:  </span><br><span class="line">  pages:  </span><br><span class="line">    runs-on: ubuntu-latest  </span><br><span class="line">    steps:  </span><br><span class="line">      - uses: actions/checkout@v2  </span><br><span class="line">      - name: Use Node.js 16.x  </span><br><span class="line">        uses: actions/setup-node@v2  </span><br><span class="line">        with:  </span><br><span class="line">          node-version: &#x27;16&#x27;  </span><br><span class="line">      - name: Cache NPM dependencies  </span><br><span class="line">        uses: actions/cache@v2  </span><br><span class="line">        with:  </span><br><span class="line">          path: node_modules  </span><br><span class="line">          key: $&#123;&#123; runner.OS &#125;&#125;-npm-cache  </span><br><span class="line">          restore-keys: |  </span><br><span class="line">            $&#123;&#123; runner.OS &#125;&#125;-npm-cache  </span><br><span class="line">      - name: Install Dependencies  </span><br><span class="line">        run: npm install  </span><br><span class="line">      - name: Build  </span><br><span class="line">        run: npm run build  </span><br><span class="line">      - name: Deploy  </span><br><span class="line">        uses: peaceiris/actions-gh-pages@v3  </span><br><span class="line">        with:  </span><br><span class="line">          github_token: $&#123;&#123; secrets.GITHUB_TOKEN &#125;&#125;  </span><br><span class="line">          publish_dir: ./public</span><br></pre></td></tr></table></figure>
<p>éœ€è¦æ³¨æ„ä¸¤ç‚¹ï¼š</p>
<ul>
<li><code>node</code> ç‰ˆæœ¬éœ€è¦ä¸æœ¬åœ°æœºå™¨ä¸€è‡´ï¼ˆå¯ä½¿ç”¨ <code>node --version</code> æŸ¥çœ‹ï¼‰</li>
<li>é…ç½®ä¸­çš„å˜é‡ä¸éœ€è¦æ‰‹åŠ¨æŒ‡å®š</li>
</ul>
<p>å°† <code>.github/workflows/pages.yml</code> åŒæ­¥åˆ°è¿œç¨‹ä»“åº“ï¼Œç‚¹å‡»ä»“åº“ä¸»é¡µçš„ <code>Actions</code> æ ‡ç­¾ï¼Œå¯ä»¥çœ‹åˆ° <code>workflow</code> çš„æ‰§è¡Œæƒ…å†µã€‚</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/github-actions-hexo.png"></p>
<p><code>workflow</code> æ‰§è¡Œå®Œæˆåï¼Œä»“åº“ä¼šå¤šå‡ºä¸€ä¸ªåä¸º <code>gh-pages</code> çš„åˆ†æ”¯ï¼Œ<code>Hexo</code> ç”Ÿæˆçš„é™æ€ç½‘ç«™æ–‡ä»¶å³åœ¨è¯¥åˆ†æ”¯ä¸‹ã€‚</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/gh-pages-branch.png"></p>
<h2 id="03-é…ç½®-Github-Pages"><a href="#03-é…ç½®-Github-Pages" class="headerlink" title="03.é…ç½® Github Pages"></a>03.é…ç½® Github Pages</h2><p><code>Hexo</code> ç”Ÿæˆçš„é™æ€ç½‘ç«™æ–‡ä»¶åœ¨  <code>gh-pages</code>  åˆ†æ”¯ä¸‹ï¼Œæ¥ä¸‹æ¥é…ç½® <code>Github Pages</code> ä» <code>gh-pages</code>  åˆ†æ”¯æ„å»ºç«™ç‚¹ï¼š</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/github-pages-hexo.png"></p>
<p>é…ç½®å®Œæˆåï¼Œç¨ç­‰ä¸ªä¸€ä¸¤åˆ†é’Ÿï¼Œç½‘ç«™å°±å¯ä»¥è®¿é—®äº†ï¼Œç½‘ç«™é¦–é¡µå¦‚ä¸‹ï¼š</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/hello-world-hexo.png"></p>
<h2 id="04-å‚è€ƒèµ„æ–™"><a href="#04-å‚è€ƒèµ„æ–™" class="headerlink" title="04.å‚è€ƒèµ„æ–™"></a>04.å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://hexo.io/docs/github-pages.html">GitHub Pages | Hexo</a></li>
<li><a href="https://github.com/peaceiris/actions-gh-pages">peaceiris&#x2F;actions-gh-pages: GitHub Actions for GitHub Pages</a></li>
<li><a href="https://www.jianshu.com/p/eadeddb792c5">åšå®¢ä¹‹æ—…ï¼šä» Jekyll åˆ° Hexo</a></li>
</ul>
]]></content>
      <categories>
        <category>tool</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäº PicGo&amp;Gitee æ­å»ºä¸ªäººå›¾åºŠ</title>
    <url>/2019/01/15/tool/%E5%9F%BA%E4%BA%8E%20PicGo&amp;Gitee%20%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/</url>
    <content><![CDATA[<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/panda-banner-1.png"></p>
<span id="more"></span>

<h2 id="01-Gitee-ç›¸å…³é…ç½®"><a href="#01-Gitee-ç›¸å…³é…ç½®" class="headerlink" title="01.Gitee ç›¸å…³é…ç½®"></a>01.Gitee ç›¸å…³é…ç½®</h2><p>é¦–å…ˆè¦åœ¨ Gitee ä¸Šåˆ›å»ºä¸€ä¸ªä»“åº“ï¼Œç„¶åå°±æ˜¯ç”Ÿæˆç§äººä»¤ç‰Œã€‚åœ¨ Gitee çš„è®¾ç½®é¡µé¢å¯ä»¥æ‰¾åˆ°ç§äººä»¤ç‰Œæ ‡ç­¾ï¼ŒæŒ‰ä¸‹å›¾æ‰€ç¤ºè¿›è¡Œé…ç½®ï¼Œè®°ä½ç”Ÿæˆçš„ç§äººä»¤ç‰Œã€‚</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/create_personal_access_token_for_picgo.png"></p>
<h2 id="02-PicGo-ç›¸å…³é…ç½®"><a href="#02-PicGo-ç›¸å…³é…ç½®" class="headerlink" title="02.PicGo ç›¸å…³é…ç½®"></a>02.PicGo ç›¸å…³é…ç½®</h2><p>ä¸‹è½½å®‰è£… <a href="https://github.com/Molunerfinn/PicGo/releases">PicGo</a>ï¼Œç„¶åå°†é•œåƒåœ°å€è®¾ç½®ä¸º <code>https://registry.npm.taobao.org/</code>ã€‚</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/set_the_mirror_repository_for_picgo_plugin_1.png"></p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/set_the_mirror_repository_for_picgo_plugin_2.png"></p>
<p>æ‰“å¼€æ’ä»¶è®¾ç½®æ ï¼Œæœç´¢å®‰è£… Gitee æ’ä»¶ï¼ˆ<em>å¦‚æœæ²¡æœ‰ nodejs ç¯å¢ƒï¼Œé‚£ä¹ˆéœ€è¦å…ˆå®‰è£… nodejsï¼Œç„¶åé‡å¯ PicGo</em>ï¼‰ ã€‚</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/install_gitee_plugin_for_picgo.png"></p>
<p>æ¥ä¸‹æ¥å°±æ˜¯é…ç½® Gitee å›¾åºŠï¼Œé…ç½®å‚æ•°å«ä¹‰å¯å‚ç…§ä¸‹å›¾æ³¨è§£ã€‚</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/config_gitee_plugin_for_pico.png"></p>
<h2 id="03-ä¸Šä¼ åŒºåŠç›¸å†Œ"><a href="#03-ä¸Šä¼ åŒºåŠç›¸å†Œ" class="headerlink" title="03.ä¸Šä¼ åŒºåŠç›¸å†Œ"></a>03.ä¸Šä¼ åŒºåŠç›¸å†Œ</h2><p>å®Œæˆä¸Šè¿°æ“ä½œä¹‹åï¼Œå³å¯åœ¨ PicGo çš„ä¸Šä¼ åŒºä¸Šä¼ å›¾ç‰‡ã€‚</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/upload_image_to_gitee_by_picgo.png"></p>
<p>åœ¨ç›¸å†Œæ å¯ä»¥æŸ¥çœ‹å·²ä¸Šä¼ çš„å›¾ç‰‡ï¼Œè¿˜å¯ä»¥å¤åˆ¶é“¾æ¥ã€ä¿®æ”¹é“¾æ¥ã€åˆ é™¤å›¾ç‰‡ä»¥åŠè¿›è¡Œä¸€äº›æ‰¹é‡æ“ä½œã€‚</p>
<p><img src="https://raw.githubusercontent.com/zhoulii/figure-bed/main/fig/album_in_picgo.png"></p>
]]></content>
      <categories>
        <category>tool</category>
      </categories>
      <tags>
        <tag>picgo</tag>
      </tags>
  </entry>
</search>
